var hcClashManager;((()=>{'use strict';var _0x3edeb0={'d':(_0x3cc104,_0x7b6f71)=>{for(var _0x432600 in _0x7b6f71)_0x3edeb0['o'](_0x7b6f71,_0x432600)&&!_0x3edeb0['o'](_0x3cc104,_0x432600)&&Object['defineProperty'](_0x3cc104,_0x432600,{'enumerable':!0x0,'get':_0x7b6f71[_0x432600]});},'o':(_0x349612,_0x546058)=>Object['prototype']['hasOwnProperty']['call'](_0x349612,_0x546058),'r':_0x222077=>{'undefined'!=typeof Symbol&&Symbol['toStringTag']&&Object['defineProperty'](_0x222077,Symbol['toStringTag'],{'value':'Module'}),Object['defineProperty'](_0x222077,'__esModule',{'value':!0x0});}},_0x5901ae={};_0x3edeb0['r'](_0x5901ae),_0x3edeb0['d'](_0x5901ae,{'ClashManager':()=>_0x4d2dcc});class _0x1ddc53{static['fromBox'](_0x3a291c){return new _0x1ddc53(_0x3a291c['min']['x'],_0x3a291c['min']['y'],_0x3a291c['min']['z'],_0x3a291c['max']['x']-_0x3a291c['min']['x'],_0x3a291c['max']['y']-_0x3a291c['min']['y'],_0x3a291c['max']['z']-_0x3a291c['min']['z']);}constructor(_0x2be0a9,_0x483a01,_0x12018a,_0x3132f2,_0x5cbf4e,_0x62718f){this['x']=_0x2be0a9,this['y']=_0x483a01,this['z']=_0x12018a,this['width']=_0x3132f2,this['height']=_0x5cbf4e,this['depth']=_0x62718f;}['intersects'](_0x4a01e){return!(this['x']+this['width']<_0x4a01e['x']-0x1||this['x']>_0x4a01e['x']+_0x4a01e['width']+0x1||this['y']+this['height']<_0x4a01e['y']-0x1||this['y']>_0x4a01e['y']+_0x4a01e['height']+0x1||this['z']+this['depth']<_0x4a01e['z']-0x1||this['z']>_0x4a01e['z']+_0x4a01e['depth']+0x1);}['intersects2D'](_0x23df96){return _0x23df96['x']>=this['x']&&_0x23df96['x']<=this['x']+this['width']&&_0x23df96['y']>=this['y']&&_0x23df96['y']<=this['y']+this['height'];}['includes'](_0x3884c8){return _0x3884c8['x']>=this['x']&&_0x3884c8['x']+_0x3884c8['width']<=this['x']+this['width']&&_0x3884c8['y']>=this['y']&&_0x3884c8['y']+_0x3884c8['height']<=this['y']+this['height']&&_0x3884c8['z']>=this['z']&&_0x3884c8['z']+_0x3884c8['depth']<=this['z']+this['depth'];}['maxDistance'](_0x562ffd){const _0x5c8f07=this['x']+this['width']-_0x562ffd['x'],_0x2b91b0=this['y']+this['height']-_0x562ffd['y'],_0x26e8c4=this['z']+this['depth']-_0x562ffd['z'],_0x41bb6f=_0x562ffd['x']+_0x562ffd['width']-this['x'],_0x295d24=_0x562ffd['y']+_0x562ffd['height']-this['y'],_0x1a2ed9=_0x562ffd['z']+_0x562ffd['depth']-this['z'],_0x2ad509=Math['max'](_0x5c8f07*_0x5c8f07,_0x2b91b0*_0x2b91b0,_0x26e8c4*_0x26e8c4,_0x41bb6f*_0x41bb6f,_0x295d24*_0x295d24,_0x1a2ed9*_0x1a2ed9);return Math['sqrt'](_0x2ad509);}['distance'](_0x58c62e){const _0x314e4e=[this['x']-_0x58c62e['x']-_0x58c62e['width'],this['y']-_0x58c62e['y']-_0x58c62e['height'],this['z']-_0x58c62e['z']-_0x58c62e['depth'],_0x58c62e['x']-this['x']-this['width'],_0x58c62e['y']-this['y']-this['height'],_0x58c62e['z']-this['z']-this['depth']]['reduce']((_0x150874,_0x294b46)=>_0x294b46>0x0?_0x150874+_0x294b46**0x2:_0x150874,0x0);return Math['sqrt'](_0x314e4e);}}class _0x348dff{static['queryInRange'](_0x25663e,_0x21a3f9,_0x215af8,_0x20318d){if(!(_0x25663e['boundingBox']['distance'](_0x21a3f9)>_0x215af8)){for(const _0x370e5c of _0x25663e['items'])_0x370e5c['bounding']['distance'](_0x21a3f9)<_0x215af8&&_0x20318d['push'](_0x370e5c);if(_0x25663e['divided']){for(const _0xdbf946 of _0x25663e['children'])_0x348dff['queryInRange'](_0xdbf946,_0x21a3f9,_0x215af8,_0x20318d);}}}static['queryClosest'](_0x1e36a9,_0x50c42c,_0xf3f8f0){if(_0x1e36a9['boundingBox']['distance'](_0x50c42c)>_0xf3f8f0['dist'])return;let _0x31cb25=_0x1e36a9['boundingBox']['maxDistance'](_0x50c42c);if(_0x31cb25<_0xf3f8f0['dist']&&(_0xf3f8f0['dist']=_0x31cb25),_0x1e36a9['divided']){for(const _0x5c92bf of _0x1e36a9['children'])_0x348dff['queryClosest'](_0x5c92bf,_0x50c42c,_0xf3f8f0);}}static['closestTest'](_0x2fdd82,_0x148a26,_0x28e1b9,_0x2374ce){let _0x35b5a7={'dist':_0x28e1b9};_0x348dff['queryClosest'](_0x2fdd82,_0x148a26,_0x35b5a7),_0x348dff['queryInRange'](_0x2fdd82,_0x148a26,_0x35b5a7['dist'],_0x2374ce);}static['queryIntersectionsPoint'](_0x5c8be5,_0x4bf600,_0x497737){if(_0x5c8be5['boundingBox']['intersects2D'](_0x4bf600)){for(const _0x42f1b2 of _0x5c8be5['items'])_0x42f1b2['bounding']['intersects2D'](_0x4bf600)&&_0x497737['push'](_0x42f1b2);if(_0x5c8be5['divided']){for(const _0x171788 of _0x5c8be5['children'])_0x348dff['queryIntersectionsPoint'](_0x171788,_0x4bf600,_0x497737);}}}static['queryIntersections'](_0xd6b300,_0x1208ac,_0x3dc66c){if(_0xd6b300['boundingBox']['intersects'](_0x1208ac)){for(const _0x55afbd of _0xd6b300['items'])_0x55afbd['bounding']['intersects'](_0x1208ac)&&_0x3dc66c['push'](_0x55afbd);if(_0xd6b300['divided']){for(const _0xce4a3b of _0xd6b300['children'])_0x348dff['queryIntersections'](_0xce4a3b,_0x1208ac,_0x3dc66c);}}}constructor(_0x53f7b0,_0x182f11){this['boundingBox']=_0x53f7b0,this['depth']=_0x182f11,this['maxItems']=0x5,this['children']=[],this['items']=[],this['divided']=!0x1;}['insert'](_0x22039d){if(!this['boundingBox']['intersects'](_0x22039d['bounding']))return!0x1;if(this['boundingBox']['includes'](_0x22039d['bounding'])){this['items']['length']>this['maxItems']&&!this['divided']&&this['subdivide']();for(const _0x5a850f of this['children'])if(_0x5a850f['insert'](_0x22039d))return!0x0;return this['items']['push'](_0x22039d),!0x0;}return 0x0==this['depth']&&(this['items']['push'](_0x22039d),!0x0);}['subdivide'](){const _0x304475=this['boundingBox']['x'],_0x1d8b98=this['boundingBox']['y'],_0x213570=this['boundingBox']['z'],_0x34c366=this['boundingBox']['width']/0x2,_0x4697b2=this['boundingBox']['height']/0x2,_0x28083b=this['boundingBox']['depth']/0x2;this['children']=[new _0x348dff(new _0x1ddc53(_0x304475,_0x1d8b98,_0x213570,_0x34c366,_0x4697b2,_0x28083b),this['depth']+0x1),new _0x348dff(new _0x1ddc53(_0x304475+_0x34c366,_0x1d8b98,_0x213570,_0x34c366,_0x4697b2,_0x28083b),this['depth']+0x1),new _0x348dff(new _0x1ddc53(_0x304475,_0x1d8b98+_0x4697b2,_0x213570,_0x34c366,_0x4697b2,_0x28083b),this['depth']+0x1),new _0x348dff(new _0x1ddc53(_0x304475+_0x34c366,_0x1d8b98+_0x4697b2,_0x213570,_0x34c366,_0x4697b2,_0x28083b),this['depth']+0x1),new _0x348dff(new _0x1ddc53(_0x304475,_0x1d8b98,_0x213570+_0x28083b,_0x34c366,_0x4697b2,_0x28083b),this['depth']+0x1),new _0x348dff(new _0x1ddc53(_0x304475+_0x34c366,_0x1d8b98,_0x213570+_0x28083b,_0x34c366,_0x4697b2,_0x28083b),this['depth']+0x1),new _0x348dff(new _0x1ddc53(_0x304475,_0x1d8b98+_0x4697b2,_0x213570+_0x28083b,_0x34c366,_0x4697b2,_0x28083b),this['depth']+0x1),new _0x348dff(new _0x1ddc53(_0x304475+_0x34c366,_0x1d8b98+_0x4697b2,_0x213570+_0x28083b,_0x34c366,_0x4697b2,_0x28083b),this['depth']+0x1)];for(let _0x3d7f89=0x0;_0x3d7f89<this['items']['length'];_0x3d7f89++)for(let _0x2a463c=0x0;_0x2a463c<this['children']['length'];_0x2a463c++)if(this['children'][_0x2a463c]['insert'](this['items'][_0x3d7f89])){this['items']['splice'](_0x3d7f89,0x1),_0x3d7f89--;break;}this['divided']=!0x0;}}class _0x477e4{constructor(){this['_clashResultsHash']=[],this['_count']=0x0;}['addResult'](_0x1c0f72,_0x1ced34,_0x5519f8,_0x1de9b1,_0xf2300d,_0x3b15b8,_0x139fcd){this['_count']++,this['_clashResultsHash'][_0x1c0f72]||(this['_clashResultsHash'][_0x1c0f72]={'participants':[]}),this['_clashResultsHash'][_0x1c0f72]['participants'][_0x1ced34]||(this['_clashResultsHash'][_0x1c0f72]['participants'][_0x1ced34]={'isClash':void 0x0,'isWithinClearance':void 0x0}),null!=_0x5519f8&&(this['_clashResultsHash'][_0x1c0f72]['participants'][_0x1ced34]['isClash']=_0x5519f8),null!=_0x1de9b1&&(this['_clashResultsHash'][_0x1c0f72]['participants'][_0x1ced34]['isWithinClearance']=_0x1de9b1),null!=_0xf2300d&&(this['_clashResultsHash'][_0x1c0f72]['participants'][_0x1ced34]['isTouching']=_0xf2300d),null!=_0x139fcd&&(this['_clashResultsHash'][_0x1c0f72]['participants'][_0x1ced34]['preClash']=_0x139fcd),null!=_0x3b15b8&&(this['_clashResultsHash'][_0x1c0f72]['participants'][_0x1ced34]['distance']=_0x3b15b8);}['getResults'](_0x1394ef){let _0x48943e=[];for(let _0x4c37d8 in this['_clashResultsHash']){let _0xd6daf4=_0x1394ef['model']['getNodeParent'](parseInt(_0x4c37d8));_0x48943e[_0xd6daf4]||(_0x48943e[_0xd6daf4]={'participants':[]});for(let _0x5abe48 in this['_clashResultsHash'][_0x4c37d8]['participants']){if(!this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['isClash']&&!this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['isWithinClearance']&&!this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['isTouching'])continue;let _0x1a2303=_0x1394ef['model']['getNodeParent'](parseInt(_0x5abe48));_0x48943e[_0xd6daf4]['participants'][_0x1a2303]||(_0x48943e[_0xd6daf4]['participants'][_0x1a2303]={'isClash':void 0x0,'isWithinClearance':void 0x0,'isTouching':void 0x0,'distance':void 0x0}),0x1==this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['isClash']&&(_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['isClash']=!0x0),0x1==this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['isWithinClearance']?(_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['isWithinClearance']=!0x0,(null==_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['distance']||this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['distance']<_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['distance'])&&(_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['distance']=this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['distance'])):null!=this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['distance']&&this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['distance']<=0x0&&(null==_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['distance']||this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['distance']<_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['distance'])&&(_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['distance']=this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['distance']),0x1==this['_clashResultsHash'][_0x4c37d8]['participants'][_0x5abe48]['isTouching']&&(_0x48943e[_0xd6daf4]['participants'][_0x1a2303]['isTouching']=!0x0);}}let _0xaeabd5=[];for(let _0x484bfb in _0x48943e)for(let _0x1f3f70 in _0x48943e[_0x484bfb]['participants']){let _0x24cb49=_0x48943e[_0x484bfb]['participants'][_0x1f3f70];_0x24cb49['nodeid1']=parseInt(_0x484bfb),_0x24cb49['nodeid2']=parseInt(_0x1f3f70),_0xaeabd5['push'](_0x24cb49);}return _0xaeabd5;}['getCount'](){return this['_count'];}['getResult'](_0x1090f5,_0x1b0791){let _0x590dc7=this['_clashResultsHash'][_0x1090f5];if(this['_clashResultsHash'][_0x1090f5]||(_0x590dc7=this['_clashResultsHash'][_0x1b0791]),_0x590dc7)return _0x590dc7['participants'][_0x1b0791]||void 0x0;}static async['colorize'](_0x1c72db,_0x2501ef){let _0x5c92ea=[],_0x20c99c=[],_0x3733eb=[],_0x5d71a3=[];for(let _0x3c5246=0x0;_0x3c5246<_0x1c72db['length'];_0x3c5246++){let _0x42b95d=_0x1c72db[_0x3c5246]['nodeid1'],_0x427108=_0x1c72db[_0x3c5246]['nodeid2'],_0x5c7723=_0x1c72db[_0x3c5246];0x1==_0x5c7723['isClash']?((_0x2501ef['selectionManager']['isSelected'](new Communicator['Selection']['SelectionItem'](parseInt(_0x42b95d)))||0x0==_0x2501ef['selectionManager']['getResults']()['length'])&&_0x3733eb['push'](parseInt(_0x42b95d)),(_0x2501ef['selectionManager']['isSelected'](new Communicator['Selection']['SelectionItem'](parseInt(_0x427108)))||0x0==_0x2501ef['selectionManager']['getResults']()['length'])&&_0x5d71a3['push'](parseInt(_0x427108))):0x1==_0x5c7723['isWithinClearance']&&((_0x2501ef['selectionManager']['isSelected'](new Communicator['Selection']['SelectionItem'](parseInt(_0x42b95d)))||0x0==_0x2501ef['selectionManager']['getResults']()['length'])&&_0x5c92ea['push'](parseInt(_0x42b95d)),(_0x2501ef['selectionManager']['isSelected'](new Communicator['Selection']['SelectionItem'](parseInt(_0x427108)))||0x0==_0x2501ef['selectionManager']['getResults']()['length'])&&_0x20c99c['push'](parseInt(_0x427108)));}0x0==_0x2501ef['selectionManager']['getResults']()['length']&&await _0x2501ef['model']['setNodesFaceColor']([0x0],new Communicator['Color'](0xff,0xff,0xff)),await _0x2501ef['model']['setNodesFaceColor'](_0x5c92ea,new Communicator['Color'](0x40,0x40,0xff)),await _0x2501ef['model']['setNodesFaceColor'](_0x20c99c,new Communicator['Color'](0x80,0x80,0xff)),await _0x2501ef['model']['setNodesFaceColor'](_0x3733eb,new Communicator['Color'](0xff,0x0,0x0)),await _0x2501ef['model']['setNodesFaceColor'](_0x5d71a3,new Communicator['Color'](0x0,0xff,0x0));}}class _0x57e644{static['calculateNormal'](_0x553dc1,_0x5f5748,_0x37d3c9){const _0x5dd162=_0x5f5748['x']-_0x553dc1['x'],_0x24bca8=_0x5f5748['y']-_0x553dc1['y'],_0x33b359=_0x5f5748['z']-_0x553dc1['z'],_0x33ba12=_0x37d3c9['x']-_0x553dc1['x'],_0x4ffad9=_0x37d3c9['y']-_0x553dc1['y'],_0x2dbc45=_0x37d3c9['z']-_0x553dc1['z'],_0x4f0cfb=_0x24bca8*_0x2dbc45-_0x33b359*_0x4ffad9,_0x23f29f=_0x33b359*_0x33ba12-_0x5dd162*_0x2dbc45,_0x1469e0=_0x5dd162*_0x4ffad9-_0x24bca8*_0x33ba12,_0x5085fd=Math['sqrt'](_0x4f0cfb*_0x4f0cfb+_0x23f29f*_0x23f29f+_0x1469e0*_0x1469e0);return{'x':_0x4f0cfb/_0x5085fd,'y':_0x23f29f/_0x5085fd,'z':_0x1469e0/_0x5085fd};}static['intersectTriangle'](_0xe461a7,_0x32acd8,_0x47cd44,_0x5f030c){let _0x1050fc,_0x7ac9cf=Communicator['Point3']['subtract'](_0x47cd44,_0x32acd8),_0x50a8ce=Communicator['Point3']['subtract'](_0x5f030c,_0x32acd8),_0x583eee=Communicator['Point3']['cross'](_0x7ac9cf,_0x50a8ce),_0x2d9f1f=Communicator['Point3']['dot'](_0xe461a7['direction'],_0x583eee);if(_0x2d9f1f>0x0)_0x1050fc=0x1;else{if(!(_0x2d9f1f<0x0))return null;_0x1050fc=-0x1,_0x2d9f1f=-_0x2d9f1f;}let _0x233719=Communicator['Point3']['subtract'](_0xe461a7['origin'],_0x32acd8);_0x50a8ce=Communicator['Point3']['cross'](_0x233719,_0x50a8ce);const _0x17c6dd=_0x1050fc*Communicator['Point3']['dot'](_0xe461a7['direction'],_0x50a8ce);if(_0x17c6dd<0x0)return null;_0x7ac9cf=Communicator['Point3']['cross'](_0x7ac9cf,_0x233719);const _0xe2dd2a=_0x1050fc*Communicator['Point3']['dot'](_0xe461a7['direction'],_0x7ac9cf);if(_0xe2dd2a<0x0)return null;if(_0x17c6dd+_0xe2dd2a>_0x2d9f1f)return null;const _0x443242=-_0x1050fc*Communicator['Point3']['dot'](_0x233719,_0x583eee);if(_0x443242<0x0)return null;let _0x2af784=_0x443242/_0x2d9f1f;return new Communicator['Point3'](_0xe461a7['origin']['x']+_0x2af784*_0xe461a7['direction']['x'],_0xe461a7['origin']['y']+_0x2af784*_0xe461a7['direction']['y'],_0xe461a7['origin']['z']+_0x2af784*_0xe461a7['direction']['z']);}static['_intersectPlaneTriangle'](_0x1e0965,_0x5c0ba3,_0x21fb33,_0x3e23bc,_0x106c78){const _0x5986d7=[_0x1e0965['distanceToPoint'](_0x5c0ba3),_0x1e0965['distanceToPoint'](_0x21fb33),_0x1e0965['distanceToPoint'](_0x3e23bc)],_0x156abb=[],_0x111f37=0.000001;if(_0x106c78['all']=_0x5986d7,_0x5986d7[0x0]*_0x5986d7[0x1]<0x0){const _0xea33a7=Math['abs'](_0x5986d7[0x0])/(Math['abs'](_0x5986d7[0x0])+Math['abs'](_0x5986d7[0x1]));_0x156abb['push'](new Communicator['Point3'](_0x5c0ba3['x']+_0xea33a7*(_0x21fb33['x']-_0x5c0ba3['x']),_0x5c0ba3['y']+_0xea33a7*(_0x21fb33['y']-_0x5c0ba3['y']),_0x5c0ba3['z']+_0xea33a7*(_0x21fb33['z']-_0x5c0ba3['z'])));}if(_0x5986d7[0x1]*_0x5986d7[0x2]<0x0){const _0x1ff171=Math['abs'](_0x5986d7[0x1])/(Math['abs'](_0x5986d7[0x1])+Math['abs'](_0x5986d7[0x2]));_0x156abb['push'](new Communicator['Point3'](_0x21fb33['x']+_0x1ff171*(_0x3e23bc['x']-_0x21fb33['x']),_0x21fb33['y']+_0x1ff171*(_0x3e23bc['y']-_0x21fb33['y']),_0x21fb33['z']+_0x1ff171*(_0x3e23bc['z']-_0x21fb33['z'])));}if(_0x5986d7[0x2]*_0x5986d7[0x0]<0x0){const _0xd3e811=Math['abs'](_0x5986d7[0x2])/(Math['abs'](_0x5986d7[0x2])+Math['abs'](_0x5986d7[0x0]));_0x156abb['push'](new Communicator['Point3'](_0x3e23bc['x']+_0xd3e811*(_0x5c0ba3['x']-_0x3e23bc['x']),_0x3e23bc['y']+_0xd3e811*(_0x5c0ba3['y']-_0x3e23bc['y']),_0x3e23bc['z']+_0xd3e811*(_0x5c0ba3['z']-_0x3e23bc['z'])));}return Math['abs'](_0x5986d7[0x0])<_0x111f37&&_0x156abb['push'](_0x5c0ba3),Math['abs'](_0x5986d7[0x1])<_0x111f37&&_0x156abb['push'](_0x21fb33),Math['abs'](_0x5986d7[0x2])<_0x111f37&&_0x156abb['push'](_0x3e23bc),_0x156abb;}static['_triangleVerticesOnSameSideOfPlane'](_0x2e8f7f,_0x249d2b,_0x50513c,_0x582588,_0x290a13=0x0){const _0x1bad34=[_0x2e8f7f['distanceToPoint'](_0x249d2b),_0x2e8f7f['distanceToPoint'](_0x50513c),_0x2e8f7f['distanceToPoint'](_0x582588)],_0x1c975c=_0x1bad34['every'](_0x42f935=>_0x42f935>=-_0x290a13),_0x33c5f6=_0x1bad34['every'](_0x1c9fef=>_0x1c9fef<=_0x290a13);return _0x1c975c||_0x33c5f6;}static['triangleTriangleTestTouch'](_0x146b57,_0x489a9f,_0x1490bb,_0x793f2,_0x5d1925,_0x944335,_0x48136e){let _0x1a421b=Communicator['Plane']['createFromPoints'](_0x146b57,_0x489a9f,_0x1490bb),_0x113664=_0x1a421b['normal'],_0x49f8b4=new Communicator['Point3'](_0x146b57['x']+_0x113664['x']*_0x48136e,_0x146b57['y']+_0x113664['y']*_0x48136e,_0x146b57['z']+_0x113664['z']*_0x48136e),_0x3bd468=new Communicator['Point3'](_0x489a9f['x']+_0x113664['x']*_0x48136e,_0x489a9f['y']+_0x113664['y']*_0x48136e,_0x489a9f['z']+_0x113664['z']*_0x48136e),_0x89add3=new Communicator['Point3'](_0x1490bb['x']+_0x113664['x']*_0x48136e,_0x1490bb['y']+_0x113664['y']*_0x48136e,_0x1490bb['z']+_0x113664['z']*_0x48136e);_0x113664=Communicator['Plane']['createFromPoints'](_0x793f2,_0x5d1925,_0x944335)['normal'];let _0x5c6b63=new Communicator['Point3'](_0x793f2['x']+_0x113664['x']*_0x48136e,_0x793f2['y']+_0x113664['y']*_0x48136e,_0x793f2['z']+_0x113664['z']*_0x48136e),_0x122ad8=new Communicator['Point3'](_0x5d1925['x']+_0x113664['x']*_0x48136e,_0x5d1925['y']+_0x113664['y']*_0x48136e,_0x5d1925['z']+_0x113664['z']*_0x48136e),_0x180810=new Communicator['Point3'](_0x944335['x']+_0x113664['x']*_0x48136e,_0x944335['y']+_0x113664['y']*_0x48136e,_0x944335['z']+_0x113664['z']*_0x48136e);if(_0x1a421b=Communicator['Plane']['createFromPoints'](_0x49f8b4,_0x3bd468,_0x89add3),_0x57e644['_triangleVerticesOnSameSideOfPlane'](_0x1a421b,_0x5c6b63,_0x122ad8,_0x180810))return 0x0;let _0x5c1dfb=_0x57e644['_intersectPlaneTriangle'](_0x1a421b,_0x5c6b63,_0x122ad8,_0x180810,{'all':null});if(!_0x5c1dfb[0x0]||!_0x5c1dfb[0x1])return 0x1;let _0x5f022a=_0x57e644['pointInTriangleTouch'](_0x5c1dfb[0x0],_0x49f8b4,_0x3bd468,_0x89add3),_0x27448a=_0x57e644['pointInTriangleTouch'](_0x5c1dfb[0x1],_0x49f8b4,_0x3bd468,_0x89add3);return _0x5f022a&&_0x27448a||_0x5f022a!=_0x27448a?0x2:0x1;}static['triangleTriangleTest'](_0x2583bb,_0x7889e0,_0x5672fa,_0x59b3ba,_0x4a04a4,_0x31b11c,_0x5cfdd8,_0x4588cb=!0x1){const _0xcdf4d3=Communicator['Plane']['createFromPoints'](_0x2583bb,_0x7889e0,_0x5672fa);if(_0x57e644['_triangleVerticesOnSameSideOfPlane'](_0xcdf4d3,_0x59b3ba,_0x4a04a4,_0x31b11c,-0.0001))return 0x0;let _0x225163={'all':null},_0x27843f=_0x57e644['_intersectPlaneTriangle'](_0xcdf4d3,_0x59b3ba,_0x4a04a4,_0x31b11c,_0x225163);if(!_0x27843f[0x0]||!_0x27843f[0x1])return 0x1;if(_0x4588cb){let _0x5f4747=_0x57e644['pointInTriangleTouch'](_0x27843f[0x0],_0x2583bb,_0x7889e0,_0x5672fa),_0x558ea4=_0x57e644['pointInTriangleTouch'](_0x27843f[0x1],_0x2583bb,_0x7889e0,_0x5672fa);if(_0x5f4747&&_0x558ea4||_0x5f4747!=_0x558ea4)return _0x5cfdd8['result']=Math['max'](_0x225163['all'][0x0],_0x225163['all'][0x1],_0x225163['all'][0x2]),0x2;}else{let _0x18f971=_0x57e644['pointInTriangle'](_0x27843f[0x0],_0x2583bb,_0x7889e0,_0x5672fa),_0x2c204b=_0x57e644['pointInTriangle'](_0x27843f[0x1],_0x2583bb,_0x7889e0,_0x5672fa);if(_0x18f971&&_0x2c204b||_0x18f971!=_0x2c204b)return 0x2;}return 0x1;}static['_distancePointToLine'](_0x4e4afa,_0x4d1f76,_0x16f917){let _0x17e609=new Communicator['Point3'](0x0,0x0,0x0);return Communicator['Util']['computePointToLineDistance'](_0x4e4afa,_0x4d1f76,_0x16f917,_0x17e609);}static['triangleTriangleTestDistance'](_0xd3ae7e,_0x21b0e5,_0x95cc21,_0x13844b,_0x32ce7a,_0x9e1d1d){const _0x5e3a83=Communicator['Plane']['createFromPoints'](_0xd3ae7e,_0x21b0e5,_0x95cc21);if(_0x57e644['_triangleVerticesOnSameSideOfPlane'](_0x5e3a83,_0x13844b,_0x32ce7a,_0x9e1d1d))return-0x2;let _0xe7b124=_0x57e644['_intersectPlaneTriangle'](_0x5e3a83,_0x13844b,_0x32ce7a,_0x9e1d1d,{'all':null});if(!_0xe7b124[0x0]||!_0xe7b124[0x1])return-0x1;let _0x38c318=_0x57e644['pointInTriangleTouch2'](_0xe7b124[0x0],_0xd3ae7e,_0x21b0e5,_0x95cc21),_0x365cd1=_0x57e644['pointInTriangleTouch2'](_0xe7b124[0x1],_0xd3ae7e,_0x21b0e5,_0x95cc21);if(_0x38c318||_0x365cd1){let _0x530612,_0x10ed54=0x186a0,_0x46dbfa=Communicator['Plane']['createFromPoints'](_0x13844b,_0x32ce7a,_0x9e1d1d),_0x1e946e=Math['min'](_0x5e3a83['distanceToPoint'](_0x13844b),_0x5e3a83['distanceToPoint'](_0x32ce7a),_0x5e3a83['distanceToPoint'](_0x9e1d1d)),_0x220f0c=Math['max'](_0x5e3a83['distanceToPoint'](_0x13844b),_0x5e3a83['distanceToPoint'](_0x32ce7a),_0x5e3a83['distanceToPoint'](_0x9e1d1d));if(_0x10ed54=_0x220f0c<=0x0?Math['abs'](_0x220f0c):_0x1e946e<=0x0&&_0x220f0c>=0x0?Math['min'](Math['abs'](_0x1e946e),Math['abs'](_0x220f0c)):Math['abs'](_0x1e946e),_0x1e946e=Math['min'](_0x46dbfa['distanceToPoint'](_0xd3ae7e),_0x46dbfa['distanceToPoint'](_0x21b0e5),_0x46dbfa['distanceToPoint'](_0x95cc21)),_0x220f0c=Math['max'](_0x46dbfa['distanceToPoint'](_0xd3ae7e),_0x46dbfa['distanceToPoint'](_0x21b0e5),_0x46dbfa['distanceToPoint'](_0x95cc21)),_0x530612=_0x220f0c<=0x0?Math['abs'](_0x220f0c):_0x1e946e<=0x0&&_0x220f0c>=0x0?Math['min'](Math['abs'](_0x1e946e),Math['abs'](_0x220f0c)):Math['abs'](_0x1e946e),_0x530612<_0x10ed54&&(_0x10ed54=_0x530612),_0x38c318&&_0x365cd1){let _0x290c72=Math['max'](_0x57e644['_distancePointToLine'](_0xe7b124[0x0],_0xd3ae7e,_0x21b0e5),_0x57e644['_distancePointToLine'](_0xe7b124[0x1],_0xd3ae7e,_0x21b0e5));_0x290c72<_0x10ed54&&(_0x10ed54=_0x290c72),_0x290c72=Math['max'](_0x57e644['_distancePointToLine'](_0xe7b124[0x0],_0x21b0e5,_0x95cc21),_0x57e644['_distancePointToLine'](_0xe7b124[0x1],_0x21b0e5,_0x95cc21)),_0x290c72<_0x10ed54&&(_0x10ed54=_0x290c72),_0x290c72=Math['max'](_0x57e644['_distancePointToLine'](_0xe7b124[0x0],_0x95cc21,_0xd3ae7e),_0x57e644['_distancePointToLine'](_0xe7b124[0x1],_0x95cc21,_0xd3ae7e)),_0x290c72<_0x10ed54&&(_0x10ed54=_0x290c72);}else{let _0x107873,_0x1c50da;_0x38c318?(_0x107873=_0xe7b124[0x0],_0x1c50da=_0xe7b124[0x1]):(_0x107873=_0xe7b124[0x1],_0x1c50da=_0xe7b124[0x0]);let _0x12924d=Number['MAX_VALUE'],_0x18ad7d=Communicator['Util']['lineLineIntersect'](_0x107873,_0x1c50da,_0xd3ae7e,_0x21b0e5);if(_0x18ad7d&&Communicator['Util']['isPointOnLineSegment'](_0x107873,_0x1c50da,_0x18ad7d,0.0001))_0x12924d=Communicator['Point3']['subtract'](_0x107873,_0x18ad7d)['length']();else{let _0x843af5=Communicator['Util']['lineLineIntersect'](_0x107873,_0x1c50da,_0x21b0e5,_0x95cc21);if(_0x843af5&&Communicator['Util']['isPointOnLineSegment'](_0x107873,_0x1c50da,_0x843af5,0.0001))_0x12924d=Communicator['Point3']['subtract'](_0x107873,_0x843af5)['length']();else{let _0x274cbd=Communicator['Util']['lineLineIntersect'](_0x107873,_0x1c50da,_0x95cc21,_0xd3ae7e);_0x12924d=_0x274cbd&&Communicator['Util']['isPointOnLineSegment'](_0x107873,_0x1c50da,_0x274cbd,0.0001)?Communicator['Point3']['subtract'](_0x107873,_0x274cbd)['length']():Communicator['Point3']['subtract'](_0x107873,_0x1c50da)['length']();}}_0x12924d<_0x10ed54&&(_0x10ed54=_0x12924d);}return _0x10ed54;}return-0x1;}static['pointInTriangle'](_0x40ed39,_0xfc2bf0,_0x33c6af,_0x3c5403){const _0x467abc=Communicator['Point3']['subtract'](_0x3c5403,_0xfc2bf0),_0x2c983c=Communicator['Point3']['subtract'](_0x33c6af,_0xfc2bf0),_0x4225cb=Communicator['Point3']['subtract'](_0x40ed39,_0xfc2bf0),_0x4167a9=Communicator['Point3']['dot'](_0x467abc,_0x467abc),_0x40e095=Communicator['Point3']['dot'](_0x467abc,_0x2c983c),_0x1d8d24=Communicator['Point3']['dot'](_0x467abc,_0x4225cb),_0x295130=Communicator['Point3']['dot'](_0x2c983c,_0x2c983c),_0x572d4d=Communicator['Point3']['dot'](_0x2c983c,_0x4225cb),_0x28cd39=0x1/(_0x4167a9*_0x295130-_0x40e095*_0x40e095),_0x2870a8=(_0x295130*_0x1d8d24-_0x40e095*_0x572d4d)*_0x28cd39,_0x539388=(_0x4167a9*_0x572d4d-_0x40e095*_0x1d8d24)*_0x28cd39;return _0x2870a8>=0x0&&_0x539388>=0x0&&_0x2870a8+_0x539388<=0x1;}static['pointInTriangleTouch'](_0x426661,_0x1175de,_0x5592ab,_0xa192f0){const _0x5b8062=Communicator['Point3']['subtract'](_0xa192f0,_0x1175de),_0xa57b3c=Communicator['Point3']['subtract'](_0x5592ab,_0x1175de),_0x125d56=Communicator['Point3']['subtract'](_0x426661,_0x1175de),_0x156ab6=Communicator['Point3']['dot'](_0x5b8062,_0x5b8062),_0xb73e8=Communicator['Point3']['dot'](_0x5b8062,_0xa57b3c),_0x42570c=Communicator['Point3']['dot'](_0x5b8062,_0x125d56),_0x2bfcae=Communicator['Point3']['dot'](_0xa57b3c,_0xa57b3c),_0x75cdba=Communicator['Point3']['dot'](_0xa57b3c,_0x125d56),_0x2e0e0c=0x1/(_0x156ab6*_0x2bfcae-_0xb73e8*_0xb73e8),_0x1f9995=(_0x2bfcae*_0x42570c-_0xb73e8*_0x75cdba)*_0x2e0e0c,_0x4fde24=(_0x156ab6*_0x75cdba-_0xb73e8*_0x42570c)*_0x2e0e0c;return _0x1f9995>=0.01&&_0x4fde24>=0.01&&_0x1f9995+_0x4fde24<=0.98;}static['pointInTriangleTouch2'](_0x32c2df,_0x17ff62,_0x3e530b,_0x4c0403){const _0x5d55ae=Communicator['Point3']['subtract'](_0x4c0403,_0x17ff62),_0x5c4fc1=Communicator['Point3']['subtract'](_0x3e530b,_0x17ff62),_0xc5f1f4=Communicator['Point3']['subtract'](_0x32c2df,_0x17ff62),_0x29aef3=Communicator['Point3']['dot'](_0x5d55ae,_0x5d55ae),_0x467a65=Communicator['Point3']['dot'](_0x5d55ae,_0x5c4fc1),_0xda648=Communicator['Point3']['dot'](_0x5d55ae,_0xc5f1f4),_0x145633=Communicator['Point3']['dot'](_0x5c4fc1,_0x5c4fc1),_0x471574=Communicator['Point3']['dot'](_0x5c4fc1,_0xc5f1f4),_0x98af4d=0x1/(_0x29aef3*_0x145633-_0x467a65*_0x467a65),_0x5046e0=(_0x145633*_0xda648-_0x467a65*_0x471574)*_0x98af4d,_0x2cf910=(_0x29aef3*_0x471574-_0x467a65*_0xda648)*_0x98af4d;return _0x5046e0>=0.001&&_0x2cf910>=0.001&&_0x5046e0+_0x2cf910<=0.998;}static['calculateCentroid'](_0x18007f,_0x2cd840,_0x2160d7){const _0x434fb0=(_0x18007f['x']+_0x2cd840['x']+_0x2160d7['x'])/0x3,_0x66e549=(_0x18007f['y']+_0x2cd840['y']+_0x2160d7['y'])/0x3,_0x42a968=(_0x18007f['z']+_0x2cd840['z']+_0x2160d7['z'])/0x3;return new Communicator['Point3'](_0x434fb0,_0x66e549,_0x42a968);}static['_closestPointOnTriangleToPoint'](_0x57cc2d,_0x4db1a7,_0x555e19,_0x30ed47){let _0x4ef47b=Communicator['Point3']['subtract'](_0x555e19,_0x4db1a7),_0x528965=Communicator['Point3']['subtract'](_0x30ed47,_0x4db1a7),_0x40bb3e=Communicator['Point3']['subtract'](_0x57cc2d,_0x4db1a7),_0x2dd64b=Communicator['Point3']['dot'](_0x4ef47b,_0x40bb3e),_0x2a0fc8=Communicator['Point3']['dot'](_0x528965,_0x40bb3e);if(_0x2dd64b<=0x0&&_0x2a0fc8<=0x0)return _0x4db1a7;let _0x42e21f=Communicator['Point3']['subtract'](_0x57cc2d,_0x555e19),_0x23f3cb=Communicator['Point3']['dot'](_0x4ef47b,_0x42e21f),_0x32ef2a=Communicator['Point3']['dot'](_0x528965,_0x42e21f);if(_0x23f3cb>=0x0&&_0x32ef2a<=_0x23f3cb)return _0x555e19;let _0x5109b0=_0x2dd64b*_0x32ef2a-_0x23f3cb*_0x2a0fc8;if(_0x5109b0<=0x0&&_0x2dd64b>=0x0&&_0x23f3cb<=0x0){let _0x2bb58e=_0x2dd64b/(_0x2dd64b-_0x23f3cb);return new Communicator['Point3'](_0x4db1a7['x']+_0x2bb58e*_0x4ef47b['x'],_0x4db1a7['y']+_0x2bb58e*_0x4ef47b['y'],_0x4db1a7['z']+_0x2bb58e*_0x4ef47b['z']);}let _0x2ad6d5=Communicator['Point3']['subtract'](_0x57cc2d,_0x30ed47),_0xc1d4f2=Communicator['Point3']['dot'](_0x4ef47b,_0x2ad6d5),_0x4cfc78=Communicator['Point3']['dot'](_0x528965,_0x2ad6d5);if(_0x4cfc78>=0x0&&_0xc1d4f2<=_0x4cfc78)return _0x30ed47;let _0x279709=_0xc1d4f2*_0x2a0fc8-_0x2dd64b*_0x4cfc78;if(_0x279709<=0x0&&_0x2a0fc8>=0x0&&_0x4cfc78<=0x0){let _0x17746a=_0x2a0fc8/(_0x2a0fc8-_0x4cfc78);return new Communicator['Point3'](_0x4db1a7['x']+_0x17746a*_0x528965['x'],_0x4db1a7['y']+_0x17746a*_0x528965['y'],_0x4db1a7['z']+_0x17746a*_0x528965['z']);}let _0x1e5e54=_0x23f3cb*_0x4cfc78-_0xc1d4f2*_0x32ef2a;if(_0x1e5e54<=0x0&&_0x32ef2a-_0x23f3cb>=0x0&&_0xc1d4f2-_0x4cfc78>=0x0){let _0x535f19=(_0x32ef2a-_0x23f3cb)/(_0x32ef2a-_0x23f3cb+(_0xc1d4f2-_0x4cfc78));return new Communicator['Point3'](_0x555e19['x']+_0x535f19*(_0x30ed47['x']-_0x555e19['x']),_0x555e19['y']+_0x535f19*(_0x30ed47['y']-_0x555e19['y']),_0x555e19['z']+_0x535f19*(_0x30ed47['z']-_0x555e19['z']));}let _0x39f1ff=0x1/(_0x1e5e54+_0x279709+_0x5109b0),_0xe264bb=_0x279709*_0x39f1ff,_0x334736=_0x5109b0*_0x39f1ff;return new Communicator['Point3'](_0x4db1a7['x']+_0x4ef47b['x']*_0xe264bb+_0x528965['x']*_0x334736,_0x4db1a7['y']+_0x4ef47b['y']*_0xe264bb+_0x528965['y']*_0x334736,_0x4db1a7['z']+_0x4ef47b['z']*_0xe264bb+_0x528965['z']*_0x334736);}static['_closestPointSegmentSegment'](_0x203bf0,_0x7ae451,_0x36b450,_0x3276e9,_0x52e740,_0x21e952){let _0x301f90=Communicator['Point3']['subtract'](_0x7ae451,_0x203bf0),_0x38cae9=Communicator['Point3']['subtract'](_0x3276e9,_0x36b450),_0x194c3a=Communicator['Point3']['subtract'](_0x203bf0,_0x36b450),_0x20625a=_0x301f90['length'](),_0x274c93=_0x38cae9['length'](),_0x223859=Communicator['Point3']['dot'](_0x38cae9,_0x194c3a),_0xea9151=0x0,_0x51f169=0x0,_0x475331=1e-8;if(_0x20625a<=_0x475331&&_0x274c93<=_0x475331)return _0xea9151=_0x51f169=0x0,_0x52e740=_0x203bf0,_0x21e952=_0x36b450,Communicator['Point3']['subtract'](_0x52e740,_0x21e952)['length']();if(_0x20625a<=_0x475331)_0xea9151=0x0,_0x51f169=_0x223859/_0x274c93,_0x51f169>0x1&&(_0x51f169=0x1),_0x51f169<0x0&&(_0x51f169=0x0);else{let _0x98a46a=Communicator['Point3']['dot'](_0x301f90,_0x194c3a);if(_0x274c93<=_0x475331)_0x51f169=0x0,_0xea9151=-_0x98a46a/_0x20625a,_0xea9151>0x1&&(_0xea9151=0x1),_0xea9151<0x0&&(_0xea9151=0x0);else{let _0x5d2ed=Communicator['Point3']['dot'](_0x301f90,_0x38cae9),_0x4bbecf=_0x20625a*_0x274c93-_0x5d2ed*_0x5d2ed;0x0!=_0x4bbecf?(_0xea9151=(_0x5d2ed*_0x223859-_0x98a46a*_0x274c93)/_0x4bbecf,_0xea9151>0x1&&(_0xea9151=0x1),_0xea9151<0x0&&(_0xea9151=0x0)):_0xea9151=0x0;let _0x40d6fe=_0x5d2ed*_0xea9151+_0x223859;_0x40d6fe<0x0?(_0x51f169=0x0,_0xea9151=-_0x98a46a/_0x20625a,_0xea9151>0x1&&(_0xea9151=0x1),_0xea9151<0x0&&(_0xea9151=0x0)):_0x40d6fe>_0x274c93?(_0x51f169=0x1,_0xea9151=(_0x5d2ed-_0x98a46a)/_0x20625a,_0xea9151>0x1&&(_0xea9151=0x1),_0xea9151<0x0&&(_0xea9151=0x0)):_0x51f169=_0x40d6fe/_0x274c93;}}return _0x52e740['set'](_0x203bf0['x']+_0x301f90['x']*_0xea9151,_0x203bf0['y']+_0x301f90['y']*_0xea9151,_0x203bf0['z']+_0x301f90['z']*_0xea9151),_0x21e952['set'](_0x36b450['x']+_0x38cae9['x']*_0x51f169,_0x36b450['y']+_0x38cae9['y']*_0x51f169,_0x36b450['z']+_0x38cae9['z']*_0x51f169),Communicator['Point3']['subtract'](_0x52e740,_0x21e952)['length']();}static['triangleTriangleDistance'](_0x165db0,_0x315f8,_0x55f61c,_0x1cdca2,_0x2a178a,_0x5f0912){let _0x5ed7c2={'distance':Number['MAX_VALUE'],'point_1':null,'point_2':null};{let _0x1520df=new Communicator['Point3'](0x0,0x0,0x0);function _0x346b69(_0x9f3e57){let _0x5c2378=Communicator['Point3']['subtract'](_0x9f3e57,_0x1520df)['length']();return _0x5c2378<_0x5ed7c2['distance']&&(_0x5ed7c2['distance']=_0x5c2378,_0x5ed7c2['point_1']=_0x9f3e57,_0x5ed7c2['point_2']=_0x1520df),0x0==_0x5c2378;}if(_0x1520df=_0x57e644['_closestPointOnTriangleToPoint'](_0x165db0,_0x1cdca2,_0x2a178a,_0x5f0912),_0x346b69(_0x165db0))return _0x5ed7c2;if(_0x1520df=_0x57e644['_closestPointOnTriangleToPoint'](_0x315f8,_0x1cdca2,_0x2a178a,_0x5f0912),_0x346b69(_0x315f8))return _0x5ed7c2;if(_0x1520df=_0x57e644['_closestPointOnTriangleToPoint'](_0x55f61c,_0x1cdca2,_0x2a178a,_0x5f0912),_0x346b69(_0x55f61c))return _0x5ed7c2;if(_0x1520df=_0x57e644['_closestPointOnTriangleToPoint'](_0x1cdca2,_0x165db0,_0x315f8,_0x55f61c),_0x346b69(_0x1cdca2))return _0x5ed7c2;if(_0x1520df=_0x57e644['_closestPointOnTriangleToPoint'](_0x2a178a,_0x165db0,_0x315f8,_0x55f61c),_0x346b69(_0x2a178a))return _0x5ed7c2;if(_0x1520df=_0x57e644['_closestPointOnTriangleToPoint'](_0x5f0912,_0x165db0,_0x315f8,_0x55f61c),_0x346b69(_0x5f0912))return _0x5ed7c2;}{let _0x462344=Number['MAX_VALUE'],_0xa30101=new Communicator['Point3'](0x0,0x0,0x0),_0x53448b=new Communicator['Point3'](0x0,0x0,0x0);function _0x4b650d(){return _0x462344<_0x5ed7c2['distance']&&(_0x5ed7c2['distance']=_0x462344,_0x5ed7c2['point_1']=_0xa30101,_0x5ed7c2['point_2']=_0x53448b),0x0==_0x462344;}if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x165db0,_0x315f8,_0x1cdca2,_0x2a178a,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x315f8,_0x55f61c,_0x1cdca2,_0x2a178a,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x55f61c,_0x165db0,_0x1cdca2,_0x2a178a,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x165db0,_0x315f8,_0x2a178a,_0x5f0912,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x315f8,_0x55f61c,_0x2a178a,_0x5f0912,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x55f61c,_0x165db0,_0x2a178a,_0x5f0912,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x165db0,_0x315f8,_0x5f0912,_0x1cdca2,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x315f8,_0x55f61c,_0x5f0912,_0x1cdca2,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;if(_0x462344=_0x57e644['_closestPointSegmentSegment'](_0x55f61c,_0x165db0,_0x5f0912,_0x1cdca2,_0xa30101,_0x53448b),_0x4b650d())return _0x5ed7c2;}return _0x5ed7c2;}}class _0x486dfa{constructor(_0x3830ad,_0x33faa6=0x0){this['_manager']=_0x3830ad,this['_viewer']=_0x3830ad['_viewer'],this['_mdataHash']=[],this['_expireLength']=_0x33faa6,this['_expireQueue']=[],this['_results']=[];}['invalidate'](_0x57647d){this['_mdataHash'][_0x57647d]=null;}async['getMeshData'](_0x189051,_0x4a959c,_0x3fa5b8=!0x1){let _0xffe25e=this['_mdataHash'][_0x189051];if(_0x3fa5b8){if(_0xffe25e&&!_0xffe25e['valid'])return;if(!_0xffe25e){let _0x2a96e1,_0x14fc7a,_0x15638a;_0x2a96e1=_0x4a959c||_0x1ddc53['fromBox'](await this['_viewer']['model']['getNodesBounding']([_0x189051])),_0xffe25e={'tris':[],'bounds':[],'bounding':_0x2a96e1,'valid':!0x0,'nodeid':_0x189051},this['_mdataHash'][_0x189051]=_0xffe25e;try{_0x14fc7a=await this['_viewer']['model']['getNodeMeshData'](_0x189051),_0x15638a=this['_viewer']['model']['getNodeNetMatrix'](_0x189051);}catch(_0x62db97){return void(_0xffe25e['valid']=!0x1);}let _0x166111=[Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']],_0x2270c1=[-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']];for(let _0x193991=0x0;_0x193991<_0x14fc7a['faces']['elementCount'];_0x193991++){let _0x3b8873=_0x14fc7a['faces']['element'](_0x193991),_0x40f4d4=_0x3b8873['iterate']();for(let _0x588d53=0x0;_0x588d53<_0x3b8873['vertexCount'];_0x588d53+=0x3){let _0x404647=[Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']],_0x23139f=[-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']];for(let _0x569e6a=0x0;_0x569e6a<0x3;_0x569e6a++){let _0x4d5b5e=_0x40f4d4['next'](),_0x27a768=new Communicator['Point3'](_0x4d5b5e['position'][0x0],_0x4d5b5e['position'][0x1],_0x4d5b5e['position'][0x2]);_0x27a768['x']<_0x166111[0x0]&&(_0x166111[0x0]=_0x27a768['x']),_0x27a768['y']<_0x166111[0x1]&&(_0x166111[0x1]=_0x27a768['y']),_0x27a768['z']<_0x166111[0x2]&&(_0x166111[0x2]=_0x27a768['z']),_0x27a768['x']>_0x2270c1[0x0]&&(_0x2270c1[0x0]=_0x27a768['x']),_0x27a768['y']>_0x2270c1[0x1]&&(_0x2270c1[0x1]=_0x27a768['y']),_0x27a768['z']>_0x2270c1[0x2]&&(_0x2270c1[0x2]=_0x27a768['z']),_0x27a768=_0x15638a['transform'](_0x27a768),_0x27a768['x']<_0x404647[0x0]&&(_0x404647[0x0]=_0x27a768['x']),_0x27a768['y']<_0x404647[0x1]&&(_0x404647[0x1]=_0x27a768['y']),_0x27a768['z']<_0x404647[0x2]&&(_0x404647[0x2]=_0x27a768['z']),_0x27a768['x']>_0x23139f[0x0]&&(_0x23139f[0x0]=_0x27a768['x']),_0x27a768['y']>_0x23139f[0x1]&&(_0x23139f[0x1]=_0x27a768['y']),_0x27a768['z']>_0x23139f[0x2]&&(_0x23139f[0x2]=_0x27a768['z']),_0xffe25e['tris']['push'](_0x27a768);}_0xffe25e['bounds']['push']({'min':_0x404647,'max':_0x23139f});}}this['_manager']['getTouchValidation']()&&this['checkInverted'](_0x14fc7a,_0x15638a)&&(_0xffe25e['inverted']=!0x0),_0xffe25e['ubounds']=new Communicator['Point3'](_0x2270c1[0x0]-_0x166111[0x0],_0x2270c1[0x1]-_0x166111[0x1],_0x2270c1[0x2]-_0x166111[0x2]),_0xffe25e['octree']=new _0x348dff(new _0x1ddc53(_0x2a96e1['x']-0x1,_0x2a96e1['y']-0x1,_0x2a96e1['z']-0x1,_0x2a96e1['width']+0x2,_0x2a96e1['height']+0x2,_0x2a96e1['depth']+0x2),0x0);for(let _0x281200=0x0;_0x281200<_0xffe25e['bounds']['length'];_0x281200++){let _0x90e1b=_0xffe25e['bounds'][_0x281200],_0x47ff10=new _0x1ddc53(_0x90e1b['min'][0x0],_0x90e1b['min'][0x1],_0x90e1b['min'][0x2],_0x90e1b['max'][0x0]-_0x90e1b['min'][0x0],_0x90e1b['max'][0x1]-_0x90e1b['min'][0x1],_0x90e1b['max'][0x2]-_0x90e1b['min'][0x2]);_0xffe25e['bounds'][_0x281200]=_0x47ff10,_0xffe25e['octree']['insert']({'nodeid':_0x281200,'bounding':_0x47ff10});}if(0x0==_0xffe25e['tris']['length'])return void(_0xffe25e['valid']=!0x1);if(this['_expireLength']&&this['_expireQueue']['length']>=this['_expireLength']){let _0x51ba45=this['_expireQueue']['shift']();delete this['_mdataHash'][_0x51ba45];}}}if(this['_expireLength']&&_0xffe25e['valid']){let _0x379f03=this['_expireQueue']['indexOf'](_0x189051);-0x1!=_0x379f03&&this['_expireQueue']['splice'](_0x379f03,0x1),this['_expireQueue']['push'](_0x189051);}return _0xffe25e;}['checkInverted'](_0x128ccb,_0x513897){if(_0x128ccb['faces']['elementCount']){let _0x2f26a4=_0x513897['normalMatrix'](),_0x55c3f1=[],_0x4c90f5=[],_0x4b1a78=_0x128ccb['faces']['element'](0x0)['iterate']();for(let _0x5c9630=0x0;_0x5c9630<0x3;_0x5c9630++){let _0x1f254e=_0x4b1a78['next'](),_0x3fd53b=new Communicator['Point3'](_0x1f254e['position'][0x0],_0x1f254e['position'][0x1],_0x1f254e['position'][0x2]);_0x3fd53b=_0x513897['transform'](_0x3fd53b),_0x4c90f5['push'](_0x3fd53b),_0x55c3f1['push'](_0x1f254e['normal'][0x0],_0x1f254e['normal'][0x1],_0x1f254e['normal'][0x2]);}let _0x530583=_0x57e644['calculateNormal'](_0x4c90f5[0x0],_0x4c90f5[0x1],_0x4c90f5[0x2]),_0x3c0681=new Communicator['Point3'](_0x530583['x'],_0x530583['y'],_0x530583['z']),_0x2be811=new Communicator['Point3'](_0x55c3f1[0x0],_0x55c3f1[0x1],_0x55c3f1[0x2]);if(_0x2be811=_0x2f26a4['transform'](_0x2be811),!_0x3c0681['equalsWithTolerance'](_0x2be811,0.001))return!0x0;}return!0x1;}['calculateScaledMesh'](_0x3f00a7,_0x21a19d,_0x21ec98){let _0x9cd7c6=_0x3f00a7['bounding'],_0x42aa31=new Communicator['Matrix'](),_0x237ce3=hwv['model']['getNodeNetMatrix'](_0x21a19d),_0x2f01ba=(_0x21ec98>0xa?0xa:_0x21ec98)/this['_viewer']['model']['getUnitMultiplier'](),_0xe5baa=(_0x3f00a7['ubounds']['x']-_0x2f01ba)/_0x3f00a7['ubounds']['x'],_0x5b49cf=(_0x3f00a7['ubounds']['y']-_0x2f01ba)/_0x3f00a7['ubounds']['y'],_0x2b6fa1=(_0x3f00a7['ubounds']['z']-_0x2f01ba)/_0x3f00a7['ubounds']['z'];_0xe5baa<0.0001&&(_0xe5baa=0.0001),_0x5b49cf<0.0001&&(_0x5b49cf=0.0001),_0x2b6fa1<0.0001&&(_0x2b6fa1=0.0001);let _0x20234f=Communicator['Matrix']['inverse'](_0x237ce3)['transform'](new Communicator['Point3'](_0x9cd7c6['x']+_0x9cd7c6['width']/0x2,_0x9cd7c6['y']+_0x9cd7c6['height']/0x2,_0x9cd7c6['z']+_0x9cd7c6['depth']/0x2)),_0x13fb57=Communicator['Matrix']['inverse'](_0x237ce3);_0x42aa31['setScaleComponent'](_0xe5baa,_0x5b49cf,_0x2b6fa1);let _0x5df1ef=new Communicator['Matrix']();_0x5df1ef['setTranslationComponent'](_0x20234f['x'],_0x20234f['y'],_0x20234f['z']);let _0x55f65b=Communicator['Matrix']['inverse'](_0x5df1ef),_0x1b151d=Communicator['Matrix']['multiply'](_0x55f65b,_0x42aa31),_0x4f5980=Communicator['Matrix']['multiply'](_0x1b151d,_0x5df1ef),_0x5dd48d=[],_0x58d2dd=[];for(let _0x46f531=0x0;_0x46f531<_0x3f00a7['tris']['length'];_0x46f531+=0x3){let _0x41e7a7=[Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']],_0x12ebd3=[-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']];for(let _0x3a8664=0x0;_0x3a8664<0x3;_0x3a8664++){_0x3f00a7['tris'][_0x46f531+_0x3a8664];let _0x32e252=_0x13fb57['transform'](_0x3f00a7['tris'][_0x46f531+_0x3a8664]);_0x32e252=_0x4f5980['transform'](_0x32e252),_0x32e252=_0x237ce3['transform'](_0x32e252),_0x32e252['x']<_0x41e7a7[0x0]&&(_0x41e7a7[0x0]=_0x32e252['x']),_0x32e252['y']<_0x41e7a7[0x1]&&(_0x41e7a7[0x1]=_0x32e252['y']),_0x32e252['z']<_0x41e7a7[0x2]&&(_0x41e7a7[0x2]=_0x32e252['z']),_0x32e252['x']>_0x12ebd3[0x0]&&(_0x12ebd3[0x0]=_0x32e252['x']),_0x32e252['y']>_0x12ebd3[0x1]&&(_0x12ebd3[0x1]=_0x32e252['y']),_0x32e252['z']>_0x12ebd3[0x2]&&(_0x12ebd3[0x2]=_0x32e252['z']),_0x5dd48d['push'](_0x32e252);}_0x58d2dd['push']({'min':_0x41e7a7,'max':_0x12ebd3});}let _0xbbb027=new _0x348dff(new _0x1ddc53(_0x9cd7c6['x']-0x1,_0x9cd7c6['y']-0x1,_0x9cd7c6['z']-0x1,_0x9cd7c6['width']+0x2,_0x9cd7c6['height']+0x2,_0x9cd7c6['depth']+0x2),0x0);for(let _0x516597=0x0;_0x516597<_0x58d2dd['length'];_0x516597++){let _0x581005=_0x58d2dd[_0x516597],_0x557308=new _0x1ddc53(_0x581005['min'][0x0],_0x581005['min'][0x1],_0x581005['min'][0x2],_0x581005['max'][0x0]-_0x581005['min'][0x0],_0x581005['max'][0x1]-_0x581005['min'][0x1],_0x581005['max'][0x2]-_0x581005['min'][0x2]);_0x58d2dd[_0x516597]=_0x557308,_0xbbb027['insert']({'nodeid':_0x516597,'bounding':_0x557308});}return{'otree':_0xbbb027,'points':_0x5dd48d};}async['identifyInstances'](_0x35f6f3,_0xd672f7){let _0x404e18=new Date();const _0x1be520=0x3b9aca07;this['_checksumHash']=[],this['_meshIdHash']=[],this['_nodeidInstanceHash']=[];for(let _0x2e7271=0x0;_0x2e7271<_0x35f6f3['length'];_0x2e7271++){_0x2e7271%0x3e8==0x0&&(_0xd672f7&&_0xd672f7(_0x2e7271,_0x35f6f3['length']),await new Promise(_0x101afb=>setTimeout(_0x101afb,0x1)));let _0x5aa8eb=(await this['_viewer']['model']['getMeshIds']([_0x35f6f3[_0x2e7271]]))[0x0][0x1],_0x3d8de3=this['_viewer']['model']['getNodeNetMatrix'](_0x35f6f3[_0x2e7271]),_0x5acd6a=this['_meshIdHash'][_0x5aa8eb],_0x42f48e=0x0;if(!_0x5acd6a){let _0x2012b6;try{_0x2012b6=await this['_viewer']['model']['getNodeMeshData'](_0x35f6f3[_0x2e7271]);}catch(_0x5a4464){continue;}for(let _0x1829ac=0x0;_0x1829ac<_0x2012b6['faces']['elementCount'];_0x1829ac++){let _0x71d000=_0x2012b6['faces']['element'](_0x1829ac),_0x1b0155=_0x71d000['iterate']();for(let _0xe80884=0x0;_0xe80884<_0x71d000['vertexCount'];_0xe80884++){let _0x11e68d=_0x1b0155['next']();_0x42f48e=(_0x42f48e+_0x11e68d['position'][0x0]+_0x11e68d['position'][0x1]+_0x11e68d['position'][0x2])%_0x1be520;}}_0x5acd6a=this['_checksumHash'][_0x42f48e],_0x5acd6a||(_0x5acd6a={'meshid':_0x5aa8eb,'variants':[],'meshchecksum':_0x42f48e},this['_checksumHash'][_0x42f48e]=_0x5acd6a),this['_meshIdHash'][_0x5aa8eb]=_0x5acd6a;}let _0x3ce038=0x0;for(let _0x4f5050=0x0;_0x4f5050<0xc;_0x4f5050++)_0x3ce038=(_0x3ce038+_0x3d8de3['m'][_0x4f5050])%_0x1be520;_0x5acd6a['variants'][_0x3ce038]||(_0x5acd6a['variants'][_0x3ce038]=[]),_0x5acd6a['variants'][_0x3ce038][_0x35f6f3[_0x2e7271]]=new Communicator['Point3'](_0x3d8de3['m'][0xc],_0x3d8de3['m'][0xd],_0x3d8de3['m'][0xe]),this['_nodeidInstanceHash'][_0x35f6f3[_0x2e7271]]={'data':_0x5acd6a,'variant':_0x3ce038};}let _0x1b3d2a=new Date();console['log']('identifyInstances\x20took\x20'+(_0x1b3d2a-_0x404e18)+'ms');}['clearResults'](){this['_results']=[];}['setResult'](_0x4f3519,_0x4e1d2c){this['_results'][_0x4f3519]=_0x4e1d2c;}['getResult'](_0x3682d0,_0x55cb9b){let _0x47161b,_0x3d086a,_0x1e8bc5,_0x50cac2,_0x59739d=this['_nodeidInstanceHash'][_0x3682d0],_0x555a2c=this['_nodeidInstanceHash'][_0x55cb9b];if(!_0x59739d||!_0x555a2c)return{'res':null,'hn':0x0};_0x59739d['data']['meshchecksum']<_0x555a2c['data']['meshchecksum']?(_0x47161b=_0x59739d,_0x3d086a=_0x555a2c,_0x1e8bc5=_0x3682d0,_0x50cac2=_0x55cb9b):(_0x47161b=_0x555a2c,_0x3d086a=_0x59739d,_0x1e8bc5=_0x55cb9b,_0x50cac2=_0x3682d0);let _0x14aeb2=_0x47161b['data']['variants'][_0x47161b['variant']],_0x4d9062=_0x3d086a['data']['variants'][_0x3d086a['variant']],_0x14a675=Communicator['Point3']['subtract'](_0x14aeb2[_0x1e8bc5],_0x4d9062[_0x50cac2]);_0x14a675['x']=Math['round'](0x64*_0x14a675['x'])/0x64,_0x14a675['y']=Math['round'](0x64*_0x14a675['y'])/0x64,_0x14a675['z']=Math['round'](0x64*_0x14a675['z'])/0x64;let _0x1e31d8=_0x47161b['data']['meshchecksum']+'@'+_0x3d086a['data']['meshchecksum']+_0x47161b['variant']+'@'+_0x3d086a['variant']+_0x14a675['x']+'@'+_0x14a675['y']+'@'+_0x14a675['z'];return{'res':this['_results'][_0x1e31d8],'hn':_0x1e31d8};}['retrieveRelatedInstances'](_0x436bee,_0x41bde0){let _0xba2c36=[],_0x4d2f31=this['_nodeidInstanceHash'][_0x436bee],_0x499eb6=this['_nodeidInstanceHash'][_0x41bde0],_0x2f1fe3=_0x4d2f31['data']['variants'][_0x4d2f31['variant']],_0x367713=_0x499eb6['data']['variants'][_0x499eb6['variant']],_0xa593ba=Communicator['Point3']['subtract'](_0x2f1fe3[_0x436bee],_0x367713[_0x41bde0]);for(let _0x44ca44 in _0x2f1fe3)for(let _0x5c19bd in _0x367713)Communicator['Point3']['subtract'](_0x2f1fe3[_0x44ca44],_0x367713[_0x5c19bd])['equalsWithTolerance'](_0xa593ba,0.01)&&(_0xba2c36['push'](_0x44ca44),_0xba2c36['push'](_0x5c19bd));return _0xba2c36;}async['retrieveInstances'](_0x4ee581){let _0x2d3a8d=[],_0x266976=(await this['_viewer']['model']['getMeshIds']([_0x4ee581]))[0x0][0x1],_0x4308a4=this['_meshIdHash'][_0x266976];for(let _0x4ed42c in _0x4308a4['variants'])for(let _0x182946 in _0x4308a4['variants'][_0x4ed42c])_0x2d3a8d['push'](_0x182946);return _0x2d3a8d;}}const _0x3d65ad=[0x1,0x0,0x0,-0x1,0x0,0x0,0x0,0x1,0x0,0x0,-0x1,0x0,0x0,0x0,0x1,0x0,0x0,-0x1,0.577,0.577,0.577,-0.577,0.577,0.577,0.577,-0.577,0.577,-0.577,-0.577,0.577,0.577,0.577,-0.577,-0.577,0.577,-0.577,0.577,-0.577,-0.577,-0.577,-0.577,-0.577];class _0x4d2dcc{constructor(_0x368332){this['_viewer']=_0x368332,this['_octree']=null,this['_leafs'],this['_leafBounds'],this['_tolerance']=0x37,this['_clearance']=0x0,this['_sourceNodes']=[],this['_targetNodes']=[],this['_ignoreSpaces']=!0x0,this['_progressCallback']=null,this['_touchCheck']=!0x1,this['_insideCheck']=!0x1,this['_touchValidation']=!0x1,this['_expireLength']=0x1388,this['_separationCheck']=!0x0,this['_allClashes']=!0x0,this['_excludeHash']=[],this['_exludeNodesSet']=!0x1,this['_serverAddress']=null,this['_sessionID']=null;}async['initializeExistingServerSession'](_0x2ca20f,_0x51c4cf){this['_serverAddress']=_0x2ca20f,this['_sessionID']=_0x51c4cf;}async['initializeServer'](_0x4cee98,_0x55d54d){this['_serverAddress']=_0x4cee98;let _0x3bf658=await fetch(this['_serverAddress']+'/hcClash/start/'+_0x55d54d,{'method':'PUT'});this['_sessionID']=(await _0x3bf658['json']())['sessionID'];}async['_syncSettings'](){this['_sessionID']&&await fetch(this['_serverAddress']+'/hcClash/setSettings/'+this['_sessionID'],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'separationCheck':this['_separationCheck'],'touchValidation':this['_touchValidation'],'insideCheck':this['_insideCheck'],'touchCheck':this['_touchCheck'],'tolerance':this['_tolerance'],'clearance':this['_clearance'],'ignoreSpaces':this['_ignoreSpaces']})});}['applySettings'](_0x3bc21a){this['_separationCheck']=_0x3bc21a['separationCheck'],this['_touchValidation']=_0x3bc21a['touchValidation'],this['_insideCheck']=_0x3bc21a['insideCheck'],this['_touchCheck']=_0x3bc21a['touchCheck'],this['_tolerance']=_0x3bc21a['tolerance'],this['_clearance']=_0x3bc21a['clearance'],this['_ignoreSpaces']=_0x3bc21a['ignoreSpaces'];}['setSeparationCheck'](_0x56a864){this['_separationCheck']=_0x56a864,this['_syncSettings']();}['getSeparationCheck'](){return this['_separationCheck'];}['setTouchValidation'](_0xbaddf4){this['_touchValidation']=_0xbaddf4,this['_syncSettings']();}['getTouchValidation'](){return this['_touchValidation'];}['setInsideCheck'](_0x116118){this['_insideCheck']=_0x116118,this['_syncSettings']();}['getInsideCheck'](){return this['_insideCheck'];}['setTouchCheck'](_0x75eb13){this['_touchCheck']=_0x75eb13,this['_syncSettings']();}['getTouchCheck'](){return this['_touchCheck'];}['setProgressCallback'](_0x1843dc){this['_progressCallback']=_0x1843dc;}['getTolerance'](){return this['_tolerance'];}['setTolerance'](_0x52076a){this['_tolerance']=_0x52076a,this['_syncSettings']();}['getClearance'](){return this['_clearance'];}['setClearance'](_0x5dbe38){this['_clearance']=_0x5dbe38,this['_syncSettings']();}['setIgnoreSpaces'](_0x3e04c2){this['_ignoreSpaces']=_0x3e04c2,this['_syncSettings']();}['getIgnoreSpaces'](){return this['_ignoreSpaces'];}async['identifyInstances'](){this['_meshCache']['identifyInstances'](this['_leafs']);}async['showInstances'](_0x57b11b){let _0x2a82df=[],_0x1ff19d=await this['_meshCache']['retrieveInstances'](_0x57b11b);for(let _0x68bdff=0x0;_0x68bdff<_0x1ff19d['length'];_0x68bdff++)_0x2a82df['push'](new Communicator['Selection']['SelectionItem'](parseInt(_0x1ff19d[_0x68bdff])));this['_viewer']['selectionManager']['add'](_0x2a82df);}['showRelatedInstances'](_0x132576,_0x4e0dfb){let _0x2ee13d=[],_0x5d4bcc=this['_meshCache']['retrieveRelatedInstances'](_0x132576,_0x4e0dfb);for(let _0x2340db=0x0;_0x2340db<_0x5d4bcc['length'];_0x2340db++)_0x2ee13d['push'](new Communicator['Selection']['SelectionItem'](parseInt(_0x5d4bcc[_0x2340db])));this['_viewer']['selectionManager']['add'](_0x2ee13d);}async['setFull'](){if(this['_allClashes']=!0x0,this['_sessionID'])return void await fetch(this['_serverAddress']+'/hcClash/setFull/'+this['_sessionID'],{'method':'PUT'});let _0x49f0cd=[],_0x55505b=[];this['_meshCache']=new _0x486dfa(this,this['_expireLength']),this['_getBoundsRecursive'](this['_viewer']['model']['getRootNode'](),_0x49f0cd,_0x55505b),this['_leafBounds']=await Promise['all'](_0x49f0cd),this['_octree']=new _0x348dff(_0x1ddc53['fromBox'](await this['_viewer']['model']['getNodesBounding']([this['_viewer']['model']['getRootNode']()])),0x0),this['_leafs']=_0x55505b;for(let _0x2bfccd=0x0;_0x2bfccd<_0x55505b['length'];_0x2bfccd++)this['_octree']['insert']({'nodeid':_0x55505b[_0x2bfccd],'bounding':_0x1ddc53['fromBox'](this['_leafBounds'][_0x2bfccd])});this['_progressCallback']&&this['_progressCallback'](0x0),await this['_meshCache']['identifyInstances'](this['_leafs'],this['_progressCallback']),this['_progressCallback']&&this['_progressCallback'](-0x1);}async['setExcludeNodes'](_0x26b032){if(this['_exludeNodesSet']=!0x0,this['_sessionID'])return void await fetch(this['_serverAddress']+'/hcClash/setExcludeNodes/'+this['_sessionID'],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x26b032)});let _0x56a80a=[],_0x5d6076=[];for(let _0x123e1f=0x0;_0x123e1f<_0x26b032['length'];_0x123e1f++)this['_getBoundsRecursive'](_0x26b032[_0x123e1f],_0x56a80a,_0x5d6076);this['_excludeHash']=[];for(let _0x1e4973=0x0;_0x1e4973<_0x5d6076['length'];_0x1e4973++)this['_excludeHash'][_0x5d6076[_0x1e4973]]=!0x0;}['getExcludeNodesSet'](){return this['_exludeNodesSet'];}async['clearExcludeNodes'](){this['_exludeNodesSet']=!0x1,this['_sessionID']?await fetch(this['_serverAddress']+'/hcClash/clearExcludeNodes/'+this['_sessionID'],{'method':'PUT'}):this['_excludeHash']=[];}async['setSourceNodes'](_0x282e8b){if(this['_allClashes']=!0x1,this['_sessionID'])return void await fetch(this['_serverAddress']+'/hcClash/setSourceNodes/'+this['_sessionID'],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x282e8b)});let _0x778b1b=[],_0x50c90d=[];for(let _0xf2fcd3=0x0;_0xf2fcd3<_0x282e8b['length'];_0xf2fcd3++)this['_getBoundsRecursive'](_0x282e8b[_0xf2fcd3],_0x778b1b,_0x50c90d);this['_sourceBounds']=await Promise['all'](_0x778b1b),this['_sourceNodes']=_0x50c90d;}async['setTargetNodes'](_0x261c1e){if(this['_sessionID'])return void await fetch(this['_serverAddress']+'/hcClash/setTargetNodes/'+this['_sessionID'],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x261c1e)});let _0x32f933=[],_0x5a3907=[];for(let _0x358e74=0x0;_0x358e74<_0x261c1e['length'];_0x358e74++)this['_getBoundsRecursive'](_0x261c1e[_0x358e74],_0x32f933,_0x5a3907);this['_targetBounds']=await Promise['all'](_0x32f933),this['_targetNodes']=_0x5a3907,this['_octree']=new _0x348dff(_0x1ddc53['fromBox'](await this['_viewer']['model']['getNodesBounding'](_0x5a3907)),0x0);for(let _0x575f77=0x0;_0x575f77<_0x5a3907['length'];_0x575f77++)this['_octree']['insert']({'nodeid':_0x5a3907[_0x575f77],'bounding':_0x1ddc53['fromBox'](this['_targetBounds'][_0x575f77])});}async['checkAgainstNode'](_0xd1f91c){if(this['_sessionID']){let _0x52b2e3=await fetch(this['_serverAddress']+'/hcClash/checkAgainstNode/'+this['_sessionID']+'/'+_0xd1f91c);return await _0x52b2e3['json']();}let _0x43a2e2=new _0x477e4();this['_meshCache']['clearResults'](),this['_viewer']['selectionManager']['clear']();let _0x4f9918=[],_0xd95efe=[],_0x37d46=_0x1ddc53['fromBox'](await this['_viewer']['model']['getNodesBounding']([_0xd1f91c])),_0xac02b4=[];_0x348dff['queryIntersections'](this['_octree'],_0x37d46,_0xac02b4);for(let _0x19c1e1=0x0;_0x19c1e1<_0xac02b4['length'];_0x19c1e1++)if(_0xac02b4[_0x19c1e1]['nodeid']!=_0xd1f91c){let _0x101bfb=await this['_compareMeshes'](_0xac02b4[_0x19c1e1]['nodeid'],_0xd1f91c,_0xac02b4[_0x19c1e1]['bounding'],_0x37d46);if(_0x101bfb&&_0x101bfb['clash']){let _0x244db9=await this['calculateTolerance'](_0xac02b4[_0x19c1e1]['nodeid'],_0xd1f91c);(this['_separationCheck']||_0x244db9>=this['_tolerance'])&&(_0x43a2e2['addResult'](_0xd1f91c,_0xac02b4[_0x19c1e1]['nodeid'],_0x101bfb['clash'],void 0x0,_0x101bfb['isTouching']),_0xd95efe['push'](new Communicator['Selection']['SelectionItem'](_0xac02b4[_0x19c1e1]['nodeid'])),_0xd95efe['push'](new Communicator['Selection']['SelectionItem'](_0xd1f91c)));}else _0x4f9918['push']({'n1':_0xac02b4[_0x19c1e1]['nodeid'],'n2':_0xd1f91c});}if(this['_insideCheck']){for(let _0x3b0da5=0x0;_0x3b0da5<_0x4f9918['length'];_0x3b0da5++)(await this['testInside'](_0x4f9918[_0x3b0da5]['n2'],_0x4f9918[_0x3b0da5]['n1'])||await this['testInside'](_0x4f9918[_0x3b0da5]['n1'],_0x4f9918[_0x3b0da5]['n2']))&&(_0x43a2e2['addResult'](_0x4f9918[_0x3b0da5]['n1'],_0x4f9918[_0x3b0da5]['n2'],!0x0),_0xd95efe['push'](new Communicator['Selection']['SelectionItem'](_0x4f9918[_0x3b0da5]['n1'])),_0xd95efe['push'](new Communicator['Selection']['SelectionItem'](_0x4f9918[_0x3b0da5]['n2'])));}this['_viewer']['selectionManager']['add'](_0xd95efe);let _0x5598d1=[],_0x540609=this['_viewer']['selectionManager']['getResults']();for(let _0x25fd7e=0x0;_0x25fd7e<_0x540609['length'];_0x25fd7e++)_0x5598d1['push'](_0x540609[_0x25fd7e]['getNodeId']());return this['_viewer']['model']['setNodesVisibility'](_0x5598d1,!0x0),this['_viewer']['model']['setNodesOpacity'](_0x5598d1,0x1),_0x43a2e2['getResults'](this['_viewer']);}async['calculateClashes'](_0x522a0b=!0x0){if(this['_progressCallback']&&this['_progressCallback'](0x0),this['_sessionID'])for(await fetch(this['_serverAddress']+'/hcClash/calculateClashes/'+this['_sessionID']);;){let _0x407a22=await fetch(this['_serverAddress']+'/hcClash/getPendingClash/'+this['_sessionID']),_0x2e8fae=await _0x407a22['json']();if('done'==_0x2e8fae['status'])return this['_progressCallback']&&this['_progressCallback'](-0x1),_0x2e8fae['result'];this['_progressCallback'](_0x2e8fae['currentProgress'],_0x2e8fae['totalProgress']),await new Promise(_0x540197=>setTimeout(_0x540197,0x3e8));}let _0x2bb509=new _0x477e4();this['_meshCache']['clearResults']();let _0x2c3e68,_0xe39347,_0x3775f9=[],_0x219cbb=[],_0x3c3f8f=[],_0x18606c=0x0,_0x47e520=new Date(),_0x246e61=0x0,_0x22f00e=0x0;this['_allClashes']?(_0x2c3e68=this['_leafs'],_0xe39347=this['_leafBounds']):(_0x2c3e68=this['_sourceNodes'],_0xe39347=this['_sourceBounds']);for(let _0x4c4d7a=0x0;_0x4c4d7a<_0x2c3e68['length'];_0x4c4d7a++){if(this['_excludeHash'][_0x2c3e68[_0x4c4d7a]])continue;let _0x36d764=[];_0x348dff['queryIntersections'](this['_octree'],_0x1ddc53['fromBox'](_0xe39347[_0x4c4d7a]),_0x36d764);for(let _0x694349=0x0;_0x694349<_0x36d764['length'];_0x694349++)if(!this['_excludeHash'][_0x36d764[_0x694349]['nodeid']]&&this['_viewer']['model']['getNodeParent'](_0x36d764[_0x694349]['nodeid'])!=this['_viewer']['model']['getNodeParent'](_0x2c3e68[_0x4c4d7a])&&(_0x18606c%0x190==0x0&&(this['_progressCallback']&&this['_progressCallback'](_0x4c4d7a,_0x2c3e68['length']),await new Promise(_0x1dd201=>setTimeout(_0x1dd201,0x1))),_0x18606c++,_0x36d764[_0x694349]['nodeid']!=_0x2c3e68[_0x4c4d7a]&&!_0x219cbb[_0x36d764[_0x694349]['nodeid']])){let _0x4055f8,_0x3e5c39=this['_meshCache']['getResult'](_0x2c3e68[_0x4c4d7a],_0x36d764[_0x694349]['nodeid']);if(_0x3e5c39['res']?(_0x4055f8=_0x3e5c39['res'],_0x246e61++):(_0x22f00e++,_0x4055f8=await this['_compareMeshes'](_0x36d764[_0x694349]['nodeid'],_0x2c3e68[_0x4c4d7a],_0x36d764[_0x694349]['bounding'],_0x1ddc53['fromBox'](_0xe39347[_0x4c4d7a])),this['_meshCache']['setResult'](_0x3e5c39['hn'],_0x4055f8)),_0x4055f8&&(_0x4055f8['clash']||_0x4055f8['isTouching']||_0x4055f8['preClash'])){let _0x291b42;(_0x4055f8['clash']||_0x4055f8['isTouching'])&&(_0x291b42=await this['calculateTolerance'](_0x36d764[_0x694349]['nodeid'],_0x2c3e68[_0x4c4d7a])),(this['_separationCheck']||_0x291b42>=this['_tolerance'])&&(_0x2bb509['addResult'](_0x2c3e68[_0x4c4d7a],_0x36d764[_0x694349]['nodeid'],_0x4055f8['clash'],void 0x0,_0x4055f8['isTouching'],-_0x291b42,_0x4055f8['preClash']),_0x522a0b&&_0x4055f8['clash']&&(_0x3775f9['push'](new Communicator['Selection']['SelectionItem'](_0x2c3e68[_0x4c4d7a])),_0x3775f9['push'](new Communicator['Selection']['SelectionItem'](_0x36d764[_0x694349]['nodeid']))));}else _0x3c3f8f['push']({'n1':_0x36d764[_0x694349]['nodeid'],'n2':_0x2c3e68[_0x4c4d7a]});}_0x219cbb[_0x2c3e68[_0x4c4d7a]]=!0x0;}let _0x5ccee2=new Date();if(this['_insideCheck']){for(let _0x132f7b=0x0;_0x132f7b<_0x3c3f8f['length'];_0x132f7b++)_0x132f7b%0x190==0x0&&(this['_progressCallback']&&this['_progressCallback'](_0x132f7b,_0x3c3f8f['length']),await new Promise(_0x2ccaad=>setTimeout(_0x2ccaad,0x1))),(await this['testInside'](_0x3c3f8f[_0x132f7b]['n2'],_0x3c3f8f[_0x132f7b]['n1'])||await this['testInside'](_0x3c3f8f[_0x132f7b]['n1'],_0x3c3f8f[_0x132f7b]['n2']))&&(_0x2bb509['addResult'](_0x3c3f8f[_0x132f7b]['n1'],_0x3c3f8f[_0x132f7b]['n2'],!0x0),_0x522a0b&&(_0x3775f9['push'](new Communicator['Selection']['SelectionItem'](_0x3c3f8f[_0x132f7b]['n1'])),_0x3775f9['push'](new Communicator['Selection']['SelectionItem'](_0x3c3f8f[_0x132f7b]['n2']))));}let _0x1166bb=new Date();console['log']('Count:'+_0x2bb509['getCount']()+'\x20Query\x20time:\x20'+(_0x5ccee2-_0x47e520)+'ms\x20\x20\x20Inside\x20time:\x20'+(_0x1166bb-_0x5ccee2)+'ms\x20\x20'),await this['_evaluateClearance'](_0x2c3e68,_0xe39347,_0x2bb509);let _0x93e59a=new Date();return this['_clearance']&&console['log']('In\x20Range\x20Time:\x20'+(_0x93e59a-_0x1166bb)+'ms\x20\x20'),this['_progressCallback']&&this['_progressCallback'](-0x1),_0x522a0b&&this['_viewer']['selectionManager']['set'](_0x3775f9),console['log']('Skipped:'+_0x246e61),console['log']('Not\x20Skipped:'+_0x22f00e),_0x2bb509['getResults'](this['_viewer']);}async['colorizeResults'](_0xebc8d){_0x477e4['colorize'](_0xebc8d,this['_viewer']);}async['testInside'](_0x45e8e0,_0x13dea3,_0x76e764,_0x41207c){let _0x5b89b5,_0x5360c8=null;if(_0x41207c)_0x5360c8=_0x41207c;else{if(_0x5b89b5=await this['_meshCache']['getMeshData'](_0x45e8e0,null,!0x0),!_0x5b89b5)return;_0x5360c8=_0x5b89b5['tris'];}let _0x135719=await this['_meshCache']['getMeshData'](_0x13dea3,null,!0x0);if(!_0x135719)return;let _0xbde052=new Communicator['Point3'](0x0,0x0,0x1);for(let _0x2d549e=0x0;_0x2d549e<_0x5360c8['length'];_0x2d549e++){let _0x4995d4,_0x1e2186=_0x5360c8[_0x2d549e];if(_0x76e764)_0x4995d4=new Communicator['Point3'](_0x1e2186['x']+_0x76e764['x'],_0x1e2186['y']+_0x76e764['y'],_0x1e2186['z']+_0x76e764['z']);else{let _0x5415d6=0.00002*Math['random']()-0.00002;_0x4995d4=new Communicator['Point3'](_0x1e2186['x']+_0x5415d6,_0x1e2186['y']+_0x5415d6,_0x1e2186['z']+_0x5415d6);}let _0x4f46fd=new Communicator['Ray'](new Communicator['Point3'](_0x4995d4['x'],_0x4995d4['y'],_0x4995d4['z']),_0xbde052),_0x1d9449=[];_0x348dff['queryIntersectionsPoint'](_0x135719['octree'],_0x4995d4,_0x1d9449);let _0x51f962=0x0;for(let _0x417a94=0x0;_0x417a94<_0x1d9449['length'];_0x417a94++){let _0x570733=0x3*_0x1d9449[_0x417a94]['nodeid'];_0x57e644['intersectTriangle'](_0x4f46fd,_0x135719['tris'][_0x570733],_0x135719['tris'][_0x570733+0x1],_0x135719['tris'][_0x570733+0x2])&&_0x51f962++;}if(_0x51f962%0x2==0x0)return!0x1;}return!0x0;}async['computeClosestDistance'](_0x559a90,_0x1cc241){let _0x417911=await this['_meshCache']['getMeshData'](_0x559a90,null,!0x0);if(!_0x417911)return;let _0x5b8642=await this['_meshCache']['getMeshData'](_0x1cc241,null,!0x0);if(!_0x5b8642)return;let _0x37c496=Number['MAX_VALUE'];for(let _0x400e63=0x0;_0x400e63<_0x417911['tris']['length'];_0x400e63+=0x3){let _0x2a8867=[];_0x348dff['closestTest'](_0x5b8642['octree'],_0x417911['bounds'][_0x400e63/0x3],_0x37c496,_0x2a8867);for(let _0x5e37a3=0x0;_0x5e37a3<_0x2a8867['length'];_0x5e37a3++){let _0x111f31=0x3*_0x2a8867[_0x5e37a3]['nodeid'],_0x3c7886=_0x57e644['triangleTriangleDistance'](_0x417911['tris'][_0x400e63],_0x417911['tris'][_0x400e63+0x1],_0x417911['tris'][_0x400e63+0x2],_0x5b8642['tris'][_0x111f31],_0x5b8642['tris'][_0x111f31+0x1],_0x5b8642['tris'][_0x111f31+0x2]);_0x3c7886['distance']<_0x37c496&&(_0x37c496=_0x3c7886['distance']);}}return{'distance':_0x37c496};}async['_evaluateClearance'](_0x123a16,_0x25bf77,_0x53162c){if(this['_clearance']>0x0){let _0x4cfa9c=[],_0x1ce409=0x0;for(let _0x20ac62=0x0;_0x20ac62<_0x123a16['length'];_0x20ac62++){let _0x47c45d=[];_0x348dff['queryInRange'](this['_octree'],_0x1ddc53['fromBox'](_0x25bf77[_0x20ac62]),this['_clearance'],_0x47c45d);for(let _0x18cb03=0x0;_0x18cb03<_0x47c45d['length'];_0x18cb03++){if(this['_viewer']['model']['getNodeParent'](_0x47c45d[_0x18cb03]['nodeid'])==this['_viewer']['model']['getNodeParent'](_0x123a16[_0x20ac62]))continue;if(_0x47c45d[_0x18cb03]['nodeid']==_0x123a16[_0x20ac62]||_0x4cfa9c[_0x47c45d[_0x18cb03]['nodeid']])continue;_0x1ce409%0x190==0x0&&(this['_progressCallback']&&this['_progressCallback'](_0x20ac62,_0x123a16['length']),await new Promise(_0x335cf2=>setTimeout(_0x335cf2,0x1))),_0x1ce409++,_0x4cfa9c[_0x123a16[_0x20ac62]]=!0x0;let _0x3a12b0=_0x53162c['getResult'](_0x123a16[_0x20ac62],_0x47c45d[_0x18cb03]['nodeid']);if(!_0x3a12b0||0x1!=_0x3a12b0['isClash']&&null==_0x3a12b0['isWithinClearance']){if(_0x3a12b0&&_0x3a12b0['preClash'])_0x53162c['addResult'](_0x123a16[_0x20ac62],_0x47c45d[_0x18cb03]['nodeid'],void 0x0,!0x0,void 0x0,0x0);else{let _0x33fe2d=this['_meshCache']['getMeshData'](_0x123a16[_0x20ac62]),_0x278d32=this['_meshCache']['getMeshData'](_0x47c45d[_0x18cb03]['nodeid']);if(null==_0x33fe2d||null==_0x278d32||0x0==_0x33fe2d['valid']||0x0==_0x278d32['valid'])continue;let _0x33f166=await this['computeClosestDistance'](_0x123a16[_0x20ac62],_0x47c45d[_0x18cb03]['nodeid']);_0x33f166&&_0x33f166['distance']<=this['_clearance']&&_0x53162c['addResult'](_0x123a16[_0x20ac62],_0x47c45d[_0x18cb03]['nodeid'],void 0x0,!0x0,void 0x0,_0x33f166['distance']<0.0001?0x0:_0x33f166['distance']);}}}}}}['_getBoundsRecursive'](_0xecfdf6,_0x549aaa,_0x56edfb){let _0x5133c9=this['_viewer']['model']['getNodeName'](_0xecfdf6);if(this['_ignoreSpaces']&&'IFCSPACE'==this['_viewer']['model']['getNodeName'](this['_viewer']['model']['getNodeParent'](this['_viewer']['model']['getNodeParent'](_0xecfdf6)))&&'body'==_0x5133c9)return;let _0x31bcb1=this['_viewer']['model']['getNodeChildren'](_0xecfdf6);if(0x0==_0x31bcb1['length'])this['_viewer']['model']['getNodeType'](_0xecfdf6)==Communicator['NodeType']['BodyInstance']&&(_0x549aaa['push'](this['_viewer']['model']['getNodesBounding']([_0xecfdf6])),_0x56edfb['push'](_0xecfdf6));else{for(let _0x18112e=0x0;_0x18112e<_0x31bcb1['length'];_0x18112e++)this['_getBoundsRecursive'](_0x31bcb1[_0x18112e],_0x549aaa,_0x56edfb);}}async['_compareMeshes'](_0x438c4e,_0x562974,_0x5e10bd,_0x92d3d8){let _0xa02efe,_0x59a734=await this['_meshCache']['getMeshData'](_0x438c4e,_0x5e10bd,!0x0);if(!_0x59a734)return;let _0x1b76a8=await this['_meshCache']['getMeshData'](_0x562974,_0x92d3d8,!0x0);if(_0x1b76a8){for(let _0x2f8f90=0x0;_0x2f8f90<_0x59a734['tris']['length'];_0x2f8f90+=0x3){let _0x506a3f=[];_0x348dff['queryIntersections'](_0x1b76a8['octree'],_0x59a734['bounds'][_0x2f8f90/0x3],_0x506a3f);for(let _0x18b387=0x0;_0x18b387<_0x506a3f['length'];_0x18b387++){let _0x5ced77=0x3*_0x506a3f[_0x18b387]['nodeid'];if(this['triangleTriangleTestFull'](_0x59a734['tris'][_0x2f8f90],_0x59a734['tris'][_0x2f8f90+0x1],_0x59a734['tris'][_0x2f8f90+0x2],_0x1b76a8['tris'][_0x5ced77],_0x1b76a8['tris'][_0x5ced77+0x1],_0x1b76a8['tris'][_0x5ced77+0x2])){if(this['_touchCheck']){_0xa02efe=!0x0;for(let _0x4e8019=0x0;_0x4e8019<_0x59a734['tris']['length'];_0x4e8019+=0x3){let _0x2db8c3=[];_0x348dff['queryIntersections'](_0x1b76a8['octree'],_0x59a734['bounds'][_0x4e8019/0x3],_0x2db8c3);for(let _0x3746a8=0x0;_0x3746a8<_0x2db8c3['length'];_0x3746a8++){let _0x97052d=0x3*_0x2db8c3[_0x3746a8]['nodeid'];if(this['triangleTriangleTestFullTouch'](_0x59a734['tris'][_0x4e8019],_0x59a734['tris'][_0x4e8019+0x1],_0x59a734['tris'][_0x4e8019+0x2],_0x1b76a8['tris'][_0x97052d],_0x1b76a8['tris'][_0x97052d+0x1],_0x1b76a8['tris'][_0x97052d+0x2])){_0xa02efe=!0x1;break;}}if(!_0xa02efe)break;}}let _0x27c321=!0x0;return this['_separationCheck']&&(_0x27c321=await this['_separationTest'](_0x59a734,_0x1b76a8)),_0x27c321?this['_separationCheck']&&(_0x27c321=await this['_scaleTest'](_0x59a734,_0x1b76a8),!_0x27c321)?(_0xa02efe&&this['_touchValidation']&&(_0xa02efe=this['_extraTest'](_0x59a734,_0x1b76a8),_0xa02efe&&(_0xa02efe=this['_extraTest'](_0x1b76a8,_0x59a734))),{'clash':!0x1,'isTouching':_0xa02efe,'preClash':!0x0}):(_0xa02efe&&this['_touchValidation']&&(_0xa02efe=this['_extraTest'](_0x59a734,_0x1b76a8),_0xa02efe&&(_0xa02efe=this['_extraTest'](_0x1b76a8,_0x59a734))),{'clash':!0x0,'isTouching':_0xa02efe}):(_0xa02efe&&this['_touchValidation']&&(_0xa02efe=this['_extraTest'](_0x59a734,_0x1b76a8),_0xa02efe&&(_0xa02efe=this['_extraTest'](_0x1b76a8,_0x59a734))),{'clash':!0x1,'isTouching':_0xa02efe,'preClash':!0x0});}}}return{'clash':!0x1,'isTouching':_0xa02efe};}}async['_scaleTest'](_0x1a72d5,_0x14b507){for(let _0x5174b6=0x0;_0x5174b6<0x2;_0x5174b6++){let _0x1104db,_0xdcb3c5;0x0==_0x5174b6?(_0x1104db=_0x14b507,_0xdcb3c5=_0x1a72d5):(_0x1104db=_0x1a72d5,_0xdcb3c5=_0x14b507);let _0x185863=this['_meshCache']['calculateScaledMesh'](_0x1104db,_0x1104db['nodeid'],this['_tolerance']),_0x346ba3=_0x185863['points'],_0xf6762d=!0x1;for(let _0x385c7b=0x0;_0x385c7b<_0xdcb3c5['tris']['length'];_0x385c7b+=0x3){let _0x3d856f=[];_0x348dff['queryIntersections'](_0x185863['otree'],_0xdcb3c5['bounds'][_0x385c7b/0x3],_0x3d856f);for(let _0x356811=0x0;_0x356811<_0x3d856f['length'];_0x356811++){let _0x1297b1=0x3*_0x3d856f[_0x356811]['nodeid'];if(this['triangleTriangleTestFull'](_0xdcb3c5['tris'][_0x385c7b],_0xdcb3c5['tris'][_0x385c7b+0x1],_0xdcb3c5['tris'][_0x385c7b+0x2],_0x346ba3[_0x1297b1],_0x346ba3[_0x1297b1+0x1],_0x346ba3[_0x1297b1+0x2])){_0xf6762d=!0x0;break;}}if(_0xf6762d)break;}if(!_0xf6762d&&!await this['testInside'](null,_0xdcb3c5['nodeid'],null,_0x185863['points']))return!0x1;}return!0x0;}async['_separationTest'](_0x7e5a89,_0x1c2cc8){let _0x34a9ee,_0x5dc359=new _0x1ddc53(0x0,0x0,0x0,0x0,0x0,0x0);for(let _0x3b9974=0x0;_0x3b9974<_0x3d65ad['length'];_0x3b9974+=0x3){_0x34a9ee=!0x1;for(let _0x1a0f1a=0x0;_0x1a0f1a<_0x7e5a89['tris']['length'];_0x1a0f1a+=0x3){let _0x1bb34f=_0x7e5a89['bounds'][_0x1a0f1a/0x3];_0x5dc359['x']=_0x1bb34f['x']+_0x3d65ad[_0x3b9974]*this['_tolerance'],_0x5dc359['y']=_0x1bb34f['y']+_0x3d65ad[_0x3b9974+0x1]*this['_tolerance'],_0x5dc359['z']=_0x1bb34f['z']+_0x3d65ad[_0x3b9974+0x2]*this['_tolerance'],_0x5dc359['width']=_0x1bb34f['width'],_0x5dc359['height']=_0x1bb34f['height'],_0x5dc359['depth']=_0x1bb34f['depth'];let _0x303d84=[],_0x1433b1=new Communicator['Point3'](_0x7e5a89['tris'][_0x1a0f1a]['x']+_0x3d65ad[_0x3b9974]*this['_tolerance'],_0x7e5a89['tris'][_0x1a0f1a]['y']+_0x3d65ad[_0x3b9974+0x1]*this['_tolerance'],_0x7e5a89['tris'][_0x1a0f1a]['z']+_0x3d65ad[_0x3b9974+0x2]*this['_tolerance']),_0x6ab29=new Communicator['Point3'](_0x7e5a89['tris'][_0x1a0f1a+0x1]['x']+_0x3d65ad[_0x3b9974]*this['_tolerance'],_0x7e5a89['tris'][_0x1a0f1a+0x1]['y']+_0x3d65ad[_0x3b9974+0x1]*this['_tolerance'],_0x7e5a89['tris'][_0x1a0f1a+0x1]['z']+_0x3d65ad[_0x3b9974+0x2]*this['_tolerance']),_0x146caa=new Communicator['Point3'](_0x7e5a89['tris'][_0x1a0f1a+0x2]['x']+_0x3d65ad[_0x3b9974]*this['_tolerance'],_0x7e5a89['tris'][_0x1a0f1a+0x2]['y']+_0x3d65ad[_0x3b9974+0x1]*this['_tolerance'],_0x7e5a89['tris'][_0x1a0f1a+0x2]['z']+_0x3d65ad[_0x3b9974+0x2]*this['_tolerance']);_0x348dff['queryIntersections'](_0x1c2cc8['octree'],_0x5dc359,_0x303d84);for(let _0x5ecebc=0x0;_0x5ecebc<_0x303d84['length'];_0x5ecebc++){let _0x4b7fbd=0x3*_0x303d84[_0x5ecebc]['nodeid'];if(this['triangleTriangleTestFull'](_0x1433b1,_0x6ab29,_0x146caa,_0x1c2cc8['tris'][_0x4b7fbd],_0x1c2cc8['tris'][_0x4b7fbd+0x1],_0x1c2cc8['tris'][_0x4b7fbd+0x2])){_0x34a9ee=!0x0;break;}}if(_0x34a9ee)break;}if(!_0x34a9ee){let _0x42bb17=await this['testInside'](_0x7e5a89['nodeid'],_0x1c2cc8['nodeid'],new Communicator['Point3'](_0x3d65ad[_0x3b9974]*this['_tolerance'],_0x3d65ad[_0x3b9974+0x1]*this['_tolerance'],_0x3d65ad[_0x3b9974+0x2]*this['_tolerance']));if(!_0x42bb17&&(_0x42bb17=await this['testInside'](_0x1c2cc8['nodeid'],_0x7e5a89['nodeid'],new Communicator['Point3'](-_0x3d65ad[_0x3b9974]*this['_tolerance'],-_0x3d65ad[_0x3b9974+0x1]*this['_tolerance'],-_0x3d65ad[_0x3b9974+0x2]*this['_tolerance'])),!_0x42bb17))return!0x1;}}return!0x0;}['_extraTest'](_0x91d5fe,_0x233166){let _0x487e8d=new Communicator['Point3'](0x0,0x0,0x1);for(let _0x146be7=0x0;_0x146be7<_0x91d5fe['tris']['length'];_0x146be7+=0x3){let _0x324c9b=_0x57e644['calculateNormal'](_0x91d5fe['tris'][_0x146be7],_0x91d5fe['tris'][_0x146be7+0x1],_0x91d5fe['tris'][_0x146be7+0x2]);_0x91d5fe['inverted']&&(_0x324c9b['x']=-_0x324c9b['x'],_0x324c9b['y']=-_0x324c9b['y'],_0x324c9b['z']=-_0x324c9b['z']);let _0x32327d=_0x57e644['calculateCentroid'](_0x91d5fe['tris'][_0x146be7],_0x91d5fe['tris'][_0x146be7+0x1],_0x91d5fe['tris'][_0x146be7+0x2]);_0x32327d['x']=_0x32327d['x']-0.001*_0x324c9b['x'],_0x32327d['y']=_0x32327d['y']-0.001*_0x324c9b['y'],_0x32327d['z']=_0x32327d['z']-0.001*_0x324c9b['z'];let _0x731606=new Communicator['Ray'](new Communicator['Point3'](_0x32327d['x'],_0x32327d['y'],_0x32327d['z']),_0x487e8d),_0x266ae8=[];_0x348dff['queryIntersectionsPoint'](_0x233166['octree'],_0x32327d,_0x266ae8);let _0x510f76=0x0;for(let _0xe6a039=0x0;_0xe6a039<_0x266ae8['length'];_0xe6a039++){let _0x3058aa=0x3*_0x266ae8[_0xe6a039]['nodeid'];_0x57e644['intersectTriangle'](_0x731606,_0x233166['tris'][_0x3058aa],_0x233166['tris'][_0x3058aa+0x1],_0x233166['tris'][_0x3058aa+0x2])&&_0x510f76++;}if(_0x510f76%0x2!=0x0)return!0x1;}return!0x0;}['triangleTriangleTestFull'](_0x27c95f,_0xdd82e0,_0x187c70,_0x9c48d0,_0x409e75,_0x11fc97,_0x55e036=null,_0x180e89=!0x1){let _0x34195a=_0x57e644['triangleTriangleTest'](_0x27c95f,_0xdd82e0,_0x187c70,_0x9c48d0,_0x409e75,_0x11fc97,_0x55e036,_0x180e89);return 0x2==_0x34195a||0x1==_0x34195a&&0x2==_0x57e644['triangleTriangleTest'](_0x9c48d0,_0x409e75,_0x11fc97,_0x27c95f,_0xdd82e0,_0x187c70,_0x55e036,_0x180e89);}['triangleTriangleTestFullTouch'](_0x34c530,_0x2d7dc9,_0xfdade5,_0x565bc5,_0x389664,_0x22e19a){let _0x3a0689=_0x57e644['triangleTriangleTestTouch'](_0x34c530,_0x2d7dc9,_0xfdade5,_0x565bc5,_0x389664,_0x22e19a,0x1);return 0x0!=_0x3a0689&&(_0x3a0689=_0x57e644['triangleTriangleTestTouch'](_0x34c530,_0x2d7dc9,_0xfdade5,_0x565bc5,_0x389664,_0x22e19a,-0x1)),0x2==_0x3a0689||0x1==_0x3a0689&&0x2==_0x57e644['triangleTriangleTestTouch'](_0x565bc5,_0x389664,_0x22e19a,_0x34c530,_0x2d7dc9,_0xfdade5,0x1)&&0x2==_0x57e644['triangleTriangleTestTouch'](_0x565bc5,_0x389664,_0x22e19a,_0x34c530,_0x2d7dc9,_0xfdade5,-0x1);}async['calculateTolerance'](_0x4ed2ed,_0x34be08){let _0x37e9fa=await this['_meshCache']['getMeshData'](_0x4ed2ed,null,!0x0);if(!_0x37e9fa)return;let _0x367f69=await this['_meshCache']['getMeshData'](_0x34be08,null,!0x0);if(!_0x367f69)return;let _0x1abe3d=0x0;for(let _0x1e7465=0x0;_0x1e7465<_0x37e9fa['tris']['length'];_0x1e7465+=0x3){let _0x2b0532=[];_0x348dff['queryIntersections'](_0x367f69['octree'],_0x37e9fa['bounds'][_0x1e7465/0x3],_0x2b0532);for(let _0x4a84bc=0x0;_0x4a84bc<_0x2b0532['length'];_0x4a84bc++){let _0x32852b=0x3*_0x2b0532[_0x4a84bc]['nodeid'],_0x2992b7=_0x57e644['triangleTriangleTestDistance'](_0x37e9fa['tris'][_0x1e7465],_0x37e9fa['tris'][_0x1e7465+0x1],_0x37e9fa['tris'][_0x1e7465+0x2],_0x367f69['tris'][_0x32852b],_0x367f69['tris'][_0x32852b+0x1],_0x367f69['tris'][_0x32852b+0x2]),_0x4fe68b=_0x57e644['triangleTriangleTestDistance'](_0x367f69['tris'][_0x32852b],_0x367f69['tris'][_0x32852b+0x1],_0x367f69['tris'][_0x32852b+0x2],_0x37e9fa['tris'][_0x1e7465],_0x37e9fa['tris'][_0x1e7465+0x1],_0x37e9fa['tris'][_0x1e7465+0x2]);_0x4fe68b>=0x0&&_0x2992b7<0x0?_0x2992b7=_0x4fe68b:_0x4fe68b>=0x0&&_0x2992b7>=0x0&&(_0x2992b7=Math['min'](_0x2992b7,_0x4fe68b)),_0x2992b7>=0x0&&_0x2992b7>_0x1abe3d&&(_0x1abe3d=_0x2992b7);}}return _0x1abe3d<0.0001?0x0:_0x1abe3d;}['invalidateNode'](_0x417022){this['_meshCache']['invalidate'](_0x417022);}}hcClashManager=_0x5901ae;})());